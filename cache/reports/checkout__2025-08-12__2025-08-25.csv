worklog_id,issue_key,issue_summary,issue_type,priority,status,assignee_email,epic_key,sprint,author_email,author_account_id,time_spent_seconds,started,comment,issue_description
145025,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,7200,2025-08-25T17:05:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""checkout rebuild, refinement tech""}]}]}",
145024,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-25T17:04:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily, demo""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145026,CHEC-5945,(6h) [B] Checkout backend API feedback from tests and connect API ,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,12600,2025-08-25T15:06:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[]}",Zadanie na feedback z wdrożenia upper-api https://gitlab-ee.profitroom.net/microservices/monorepo/-/merge_requests/9011
144544,CHEC-5960,(M) [B] Step 2: Zaktualizowanie rezerwacji (step2savebyreference),Task,None,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,4800,2025-08-25T14:45:00.000+0200,,"Udostępnić endpoint z akcją ponownego przejścia ze step2 na step3 - czyli step2savebyreference gdzie rezerwacja ma swój reference, ale co najwyżej updatuje jej informacje.Należy rozszerzyć kontroler step2save o nową akcję, która zamiast tworzyć nową rezkę, bedzie robiła update na istniejącej"
147950,SUP-14922,Change currency symbol for Namibian Dollar (NAD),Support,High,Completed,pawel.kwiecien@profitroom.com,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,1800,2025-08-25T14:27:00.000+0200,,"Powiązane zadanie: Naprawiliśmy problem w BE7 ale przy okazji rzuciłem okiem na kolejne kroki i widzę, że tam występuje ten sam problem."
145872,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-25T14:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147953,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,3600,2025-08-25T13:59:00.000+0200,,
147949,CHEC-5956,(1h) (S) [F] Osadzenie microfrontend na nowy layout,Task,None,Completed,sebastian.kopec@profitroom.com,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,3600,2025-08-25T13:57:00.000+0200,,"W ramach zadania chcemy osadzić skrypt microfrontendu Checkout 2.0 w nowym layuoucie Upper.Na ta chwilę bedą osadzone stranspilowane pliki w Upperze, a później na CDNa.W ramach zadania:zablokować wykonywanie kodu w kontrolerach gdy będzie wywołany inny layoutobsługa CSP  na step 3"
147573,WORKLOG-18,Absence,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,28800,2025-08-25T13:34:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
147130,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,28800,2025-08-25T13:13:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145911,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,4800,2025-08-25T13:00:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
147952,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,7200,2025-08-25T12:58:00.000+0200,,
147951,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,7200,2025-08-25T12:58:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145871,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,3600,2025-08-25T12:00:00.000+0200,,
144589,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,2700,2025-08-25T11:24:00.000+0200,,
144588,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,8400,2025-08-25T11:24:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily + refinement + demo""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144319,WORKLOG-9,Code review,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,2400,2025-08-25T11:04:00.000+0200,,
145909,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,3600,2025-08-25T11:00:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
144320,TRA-82,"[F] Wrong translation in the ES language in ""type"" Flexible cancelation terms, ID 11851 [T1]",Translation bug,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,1800,2025-08-25T10:34:31.517+0200,,"Obiekt ID 11851 [T1] zgłosił, że w jednym z predefiniowanych typów profili płatności - “Elastyczne warunki anulacji“ w wersji językowej  hiszpańskiej widnieje tłumaczenie  włoskie. Testy wykonałam na swoim obiekcie ID 10108 - profil nazywa się TRA-82 [TEST NA HISZPAŃSKIM] →  i bład występuje. Sprawdziłam też czy inne szablony “typów“ mają błąd w wersji hiszpańskiej, ale potwierdzam, że NIE."
145870,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,3600,2025-08-25T10:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144591,CHEC-5986,(5H) [F/B] (Bulk AI Translation + minor changes in Extras) - part1,Story,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,5400,2025-08-25T09:56:00.000+0200,,"Do wdrożenia są uwagi wizualne od Mariusza dotyczące aktualnego widoku extra-details:Wszelkie szczegóły dostępne są tutaj: [ ]‌Natomiast na tą chwilę chcemy tylko wykonać najważniejsze zmiany, czyli w ramach tego taska będzie to:generowanie AI opisu + zdjęciawdrożyć opcję dla nowego dodatku i dla edycjidodatkowy button (obok pola z opisem a także ze zdjęciem dodatku) generujący propozycję od AIfajnie gdyby dodać modal z wygenerowaną propozycją tak żeby hotelarz mógł porównać i zatwierdzić (zwłaszcza przy edycji, jeśli już jakiś opis istnieje)jeśli chodzi o zdjęcie, to tutaj button do generowania przez AI pokazywać tylko jesli aktualnie nie ma żadnego zdjęcia (czyli pomijamy case porównywania propozycji z bieżąco ustawionym)RefinementAnaliza technicznaFrontend:Dodanie przycisków AI w komponencie extras/views/Component.vueUtworzenie nowego modala do prezentacji propozycji AIIntegracja z istniejącym systemem tłumaczeń (TranslationsSwitcher)Obsługa stanów ładowania podczas generowaniaBackend:Endpoint do generowania opisu przez AIEndpoint do generowania obrazu przez AIIntegracja z serwisem AIDo wyjaśnienia:Format zwracanych danych (języki, długość opisu)Gdzie przechowywać wygenerowane obrazy?Obsługa błędów i timeout'ówZależności:Makieta UI modala (oczekiwanie na design od Mariusza)Dokumentacja API dla serwisu AITest casesGenerowanie opisu dla nowego dodatkuGenerowanie opisu dla istniejącego dodatku (porównanie)Generowanie obrazu gdy brak obecnegoObsługa błędów APIAnulowanie generowaniaZatwierdzenie/odrzucenie propozycji"
145869,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-25T09:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146944,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,7200,2025-08-25T08:09:00.000+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
146945,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-25T08:09:00.000+0200,,Team Leaders work-log.
146946,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,7200,2025-08-25T08:09:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146943,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-25T08:08:00.000+0200,,
145908,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,2700,2025-08-25T08:00:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
147618,E2E-95,Fix for guest panel locators,Automation,None,Done,krzysztof.krynicki@profitroom.com,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,16200,2025-08-22T22:07:00.000+0200,,
147319,WORKLOG-18,Absence,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,28800,2025-08-22T15:27:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
147152,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,9000,2025-08-22T13:45:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145907,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,10800,2025-08-22T13:30:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
144274,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,900,2025-08-22T13:15:10.953+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""support""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144269,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-22T12:27:38.179+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""wsrd, self""}]}]}","Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
144267,CHEC-5597,(6h) Fix Dependencies Between Modules in Upsell,Tech Debt,None,Completed,dawid.sikorski@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-22T12:25:45.977+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""analiza z Dawidem i fix ktory nie wchodzi teraz""}]}]}","Analiza Naruszeń Architektury Aplikacji - Raport DeptracFoundational ObservationsDeptrac wykrył liczne naruszenia reguł zależności między modułami aplikacjiAplikacja podzielona jest na 4 główne warstwy: GuestPanel, TimeSlot, Upsell i SharedZgodnie z konfiguracją w deptrac.yaml, dozwolone są tylko następujące zależności:GuestPanel może zależeć od SharedTimeSlot może zależeć od SharedUpsell może zależeć od SharedShared nie powinien zależeć od żadnej innej warstwyAnaliza Naruszeń Według Modułów1. Moduł GuestPanelNaruszenia:Klasy w GuestPanel nieprawidłowo zależą od modułu Upsell:ModifyReservationPreviewView zależy od ExtrasCollection (4 naruszenia)PaymentRoomFactory zależy od ExtrasCollection (2 naruszenia)Podsumowanie: 6 naruszeń, wszystkie dotyczą nieprawidłowych zależności od modułu Upsell.2. Moduł SharedNaruszenia:Shared nieprawidłowo zależy od GuestPanel (53 naruszenia):Zależności od klas takich jak GuestReservation, BookingConditions, Offer, OffersInReservation, Room, Voucher i innychZależności od interfejsów repozytoriów z GuestPanelZależności od komend i handlerów z GuestPanelShared nieprawidłowo zależy od Upsell (25 naruszeń):Zależności od klas takich jak ExtrasCollection, Extra, UpsellReservation, CompleteCartZależności od interfejsów i wyjątków z UpsellPodsumowanie: 78 naruszeń, z czego 53 dotyczą nieprawidłowych zależności od GuestPanel, a 25 od Upsell.3. Moduły TimeSlot i UpsellNie wykryto naruszeń w tych modułach w przedstawionym raporcie.Szczegółowa Analiza ProblemówProblem 1: Warstwa Shared Zależy od Innych WarstwNajwiększym problemem jest to, że warstwa Shared, która powinna być niezależna, ma liczne zależności od innych warstw:Repozytoria w Shared zależą od modeli domenowych z innych warstw:OffersRepository, BookingConditionsRepository, PricingRepository itd.Interfejsy w Shared definiują metody używające typów z innych warstw:ExtrasFinderInterface, ReservationCancellerInterface, OffersRepositoryInterface itd.Handlery zdarzeń w Shared zależą od komend i klas z innych warstw:ReservationChangedByGuestSavedHandler, ReservationBaseHandler itd.Problem 2: GuestPanel Zależy od UpsellModuł GuestPanel nieprawidłowo zależy od modułu Upsell, co narusza zasadę separacji modułów:Klasy widoków i fabryk w GuestPanel używają klas z modułu UpsellRekomendacjeRefaktoryzacja warstwy Shared:Przenieś wspólne interfejsy i abstrakcje do SharedUsuń konkretne implementacje zależne od innych warstwWprowadź wzorce adaptacyjne lub fasady do komunikacji między warstwamiWprowadzenie warstwy abstrakcji:Stwórz interfejsy w Shared, które będą implementowane przez konkretne warstwyUżyj wstrzykiwania zależności do dostarczania implementacjiReorganizacja modeli domenowych:Przenieś wspólne modele do Shared lub stwórz ich abstrakcjeUżyj mapperów do konwersji między modelami różnych warstwUsunięcie bezpośrednich zależności GuestPanel od Upsell:Wprowadź interfejsy w Shared do komunikacji między tymi modułamiUżyj wzorca obserwatora lub mediatora do komunikacjiPodsumowanieRaport Deptrac ujawnił 84 naruszenia reguł architektury, głównie w warstwie Shared (78 naruszeń) i GuestPanel (6 naruszeń). Głównym problemem jest to, że warstwa Shared, która powinna być niezależna, ma liczne zależności od innych warstw, co narusza zasadę separacji modułów i może prowadzić do trudności w utrzymaniu i rozwijaniu aplikacji. Konieczna jest refaktoryzacja, szczególnie warstwy Shared, aby przywrócić prawidłową strukturę zależności."
144266,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-22T12:24:46.522+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""bugs daily""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145906,SUP-14922,Change currency symbol for Namibian Dollar (NAD),Support,High,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,6300,2025-08-22T12:00:00.000+0200,,"Powiązane zadanie: Naprawiliśmy problem w BE7 ale przy okazji rzuciłem okiem na kolejne kroki i widzę, że tam występuje ten sam problem."
144268,CHEC-5945,(6h) [B] Checkout backend API feedback from tests and connect API ,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,5400,2025-08-22T11:56:10.611+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""call z Pawlem, fix dla roomId zamiast rooms w extras""}]}]}",Zadanie na feedback z wdrożenia upper-api https://gitlab-ee.profitroom.net/microservices/monorepo/-/merge_requests/9011
144598,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,1200,2025-08-22T11:30:00.000+0200,,
144596,WORKLOG-11,Failures and troubleshooting,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,6000,2025-08-22T11:28:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""sprzątanie sentry, analiza niezgłoszonych błędów w ramach bugs day""}]}]}",Checking DLQDebugging emergenciesDebugging sentry alertsDebugging problems from microservices notifications/crm notifications/
144594,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-22T11:27:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""bugs daily + WSRD""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144264,CHEC-6128,Payment amount currency for JPY,Bug,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,7200,2025-08-22T11:24:31.254+0200,,
145868,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-22T11:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144321,TRA-82,"[F] Wrong translation in the ES language in ""type"" Flexible cancelation terms, ID 11851 [T1]",Translation bug,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,3600,2025-08-22T10:04:00.000+0200,,"Obiekt ID 11851 [T1] zgłosił, że w jednym z predefiniowanych typów profili płatności - “Elastyczne warunki anulacji“ w wersji językowej  hiszpańskiej widnieje tłumaczenie  włoskie. Testy wykonałam na swoim obiekcie ID 10108 - profil nazywa się TRA-82 [TEST NA HISZPAŃSKIM] →  i bład występuje. Sprawdziłam też czy inne szablony “typów“ mają błąd w wersji hiszpańskiej, ale potwierdzam, że NIE."
144583,SUP-14923,"(3H) [F] [ENT] Wrong information about the deposit in profile's settings, SiteID = 11912",Support,Highest,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,5400,2025-08-22T09:51:00.000+0200,,"Hotel zgłosił, że w profilu bezpłatna anulacja informacja o depozycie zapisuje się inaczej przy tworzeniu profilu i inaczej wygląda przy ponownym wejściu w ustawienia.Na przykładzie obiektu testowego SiteID = 13016 Przy tworzeniu wybieram przedpłatę jako “całość”Przy ponownym otwarciu profilu widać, że informacja jest zapisana jako “częściowe” z wartością 100% (czyli nadal całość, ale trochę inaczej)."
145904,SUP-14922,Change currency symbol for Namibian Dollar (NAD),Support,High,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,5400,2025-08-22T09:30:00.000+0200,,"Powiązane zadanie: Naprawiliśmy problem w BE7 ale przy okazji rzuciłem okiem na kolejne kroki i widzę, że tam występuje ten sam problem."
144231,CHEC-5597,(6h) Fix Dependencies Between Modules in Upsell,Tech Debt,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,2400,2025-08-22T09:21:55.737+0200,,"Analiza Naruszeń Architektury Aplikacji - Raport DeptracFoundational ObservationsDeptrac wykrył liczne naruszenia reguł zależności między modułami aplikacjiAplikacja podzielona jest na 4 główne warstwy: GuestPanel, TimeSlot, Upsell i SharedZgodnie z konfiguracją w deptrac.yaml, dozwolone są tylko następujące zależności:GuestPanel może zależeć od SharedTimeSlot może zależeć od SharedUpsell może zależeć od SharedShared nie powinien zależeć od żadnej innej warstwyAnaliza Naruszeń Według Modułów1. Moduł GuestPanelNaruszenia:Klasy w GuestPanel nieprawidłowo zależą od modułu Upsell:ModifyReservationPreviewView zależy od ExtrasCollection (4 naruszenia)PaymentRoomFactory zależy od ExtrasCollection (2 naruszenia)Podsumowanie: 6 naruszeń, wszystkie dotyczą nieprawidłowych zależności od modułu Upsell.2. Moduł SharedNaruszenia:Shared nieprawidłowo zależy od GuestPanel (53 naruszenia):Zależności od klas takich jak GuestReservation, BookingConditions, Offer, OffersInReservation, Room, Voucher i innychZależności od interfejsów repozytoriów z GuestPanelZależności od komend i handlerów z GuestPanelShared nieprawidłowo zależy od Upsell (25 naruszeń):Zależności od klas takich jak ExtrasCollection, Extra, UpsellReservation, CompleteCartZależności od interfejsów i wyjątków z UpsellPodsumowanie: 78 naruszeń, z czego 53 dotyczą nieprawidłowych zależności od GuestPanel, a 25 od Upsell.3. Moduły TimeSlot i UpsellNie wykryto naruszeń w tych modułach w przedstawionym raporcie.Szczegółowa Analiza ProblemówProblem 1: Warstwa Shared Zależy od Innych WarstwNajwiększym problemem jest to, że warstwa Shared, która powinna być niezależna, ma liczne zależności od innych warstw:Repozytoria w Shared zależą od modeli domenowych z innych warstw:OffersRepository, BookingConditionsRepository, PricingRepository itd.Interfejsy w Shared definiują metody używające typów z innych warstw:ExtrasFinderInterface, ReservationCancellerInterface, OffersRepositoryInterface itd.Handlery zdarzeń w Shared zależą od komend i klas z innych warstw:ReservationChangedByGuestSavedHandler, ReservationBaseHandler itd.Problem 2: GuestPanel Zależy od UpsellModuł GuestPanel nieprawidłowo zależy od modułu Upsell, co narusza zasadę separacji modułów:Klasy widoków i fabryk w GuestPanel używają klas z modułu UpsellRekomendacjeRefaktoryzacja warstwy Shared:Przenieś wspólne interfejsy i abstrakcje do SharedUsuń konkretne implementacje zależne od innych warstwWprowadź wzorce adaptacyjne lub fasady do komunikacji między warstwamiWprowadzenie warstwy abstrakcji:Stwórz interfejsy w Shared, które będą implementowane przez konkretne warstwyUżyj wstrzykiwania zależności do dostarczania implementacjiReorganizacja modeli domenowych:Przenieś wspólne modele do Shared lub stwórz ich abstrakcjeUżyj mapperów do konwersji między modelami różnych warstwUsunięcie bezpośrednich zależności GuestPanel od Upsell:Wprowadź interfejsy w Shared do komunikacji między tymi modułamiUżyj wzorca obserwatora lub mediatora do komunikacjiPodsumowanieRaport Deptrac ujawnił 84 naruszenia reguł architektury, głównie w warstwie Shared (78 naruszeń) i GuestPanel (6 naruszeń). Głównym problemem jest to, że warstwa Shared, która powinna być niezależna, ma liczne zależności od innych warstw, co narusza zasadę separacji modułów i może prowadzić do trudności w utrzymaniu i rozwijaniu aplikacji. Konieczna jest refaktoryzacja, szczególnie warstwy Shared, aby przywrócić prawidłową strukturę zależności."
145867,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-22T09:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146937,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,5400,2025-08-22T08:07:00.000+0200,,"Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
146933,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,10800,2025-08-22T08:06:00.000+0200,,Team Leaders work-log.
146932,WORKLOG-14,SUP2 Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,1800,2025-08-22T08:06:00.000+0200,,Spotkanie z 2nd Line of Support
146935,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-22T08:06:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147660,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,3600,2025-08-22T05:59:00.000+0200,,"Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
147659,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,3600,2025-08-22T05:59:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147661,CHEC-6129,[ESS] Zabezpieczenie przed wpadaniem na DLQ podczas procesu rezerwacji time slotow,Task,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,14400,2025-08-22T03:03:00.000+0200,,"W ramach zdania należy sprawdzić handlery i api wszystkich providerów i zrobić analize czy wystąpują wyjątki (excpetion) podczas komunkacji z providerem ktorych nie przechwytujemy i to powoduje, że wiadomość trafia na DLQ. Trzeba takie miejsca zlokalizować i obsłużyć tak że np time slot oznaczamy jako unscheduled i cały proces rezerwacji może dalej działać.
Prawdoopodonie Trybe ma to dobrze zrobione"
147616,E2E-90,Diagnoza i upgrade stabilności testów na podstawie analizy wyników zfailowanych testów,Task,None,Done,krzysztof.krynicki@profitroom.com,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,12600,2025-08-21T22:06:00.000+0200,,
147318,WORKLOG-18,Absence,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,28800,2025-08-21T15:27:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
147148,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,12600,2025-08-21T13:41:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145894,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,4500,2025-08-21T13:30:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
145866,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,2700,2025-08-21T13:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144273,CHEC-6000,(5h ten sprint) [M\L] Select architecture for checkout/upsell to scale up new checkout,Spike,None,Completed,dawid.sikorski@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-21T12:29:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""spotkanie z CT""}]}]}","W ramach zadania pomyśleć jak wydzielić moduł checkout z backendowego upsell-u i jak ogólnie podejść do architektury backendów używanych w checkout:https://gitlab-ee.profitroom.net/microservices/monorepo/blob/5ad43d5ecabbcce04eec90f91eb81d1cf6f786c2/services/upsell/src/CheckoutRozważyć:osobne monorepoosobne pody czy workery dla modułówW ramach spike-a:konsultacje i refinementy wewnątrz zespołu i wypracowanie wizji, spisanie jejkonsultacje z CTkonsultacje z devops ?Zadanie jest ważne bo jeśli na 2 kroku będziemy używać backendu z mikroserwisu upsell, to wtedy może nie wyrobić api i workery. Przy włączaniu kolejnym hotelom upsell-u w ramach może wzrosnąć obciążenie."
145893,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,3600,2025-08-21T12:00:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
144602,WORKLOG-10,Releases and monitoring,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,5400,2025-08-21T11:32:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""wydanie Apple/Google pay dla 3 obiektów i monitoring""}]}]}",ReleasesWriting Release notesChecking DLQ’s/Logs after releaseSmall fixes after release
144599,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,9600,2025-08-21T11:30:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily + micro + kawka ""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145863,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,3600,2025-08-21T11:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144271,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,9000,2025-08-21T10:58:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily, micro, kawka""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144604,CHEC-5986,(5H) [F/B] (Bulk AI Translation + minor changes in Extras) - part1,Story,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,3600,2025-08-21T10:34:00.000+0200,,"Do wdrożenia są uwagi wizualne od Mariusza dotyczące aktualnego widoku extra-details:Wszelkie szczegóły dostępne są tutaj: [ ]‌Natomiast na tą chwilę chcemy tylko wykonać najważniejsze zmiany, czyli w ramach tego taska będzie to:generowanie AI opisu + zdjęciawdrożyć opcję dla nowego dodatku i dla edycjidodatkowy button (obok pola z opisem a także ze zdjęciem dodatku) generujący propozycję od AIfajnie gdyby dodać modal z wygenerowaną propozycją tak żeby hotelarz mógł porównać i zatwierdzić (zwłaszcza przy edycji, jeśli już jakiś opis istnieje)jeśli chodzi o zdjęcie, to tutaj button do generowania przez AI pokazywać tylko jesli aktualnie nie ma żadnego zdjęcia (czyli pomijamy case porównywania propozycji z bieżąco ustawionym)RefinementAnaliza technicznaFrontend:Dodanie przycisków AI w komponencie extras/views/Component.vueUtworzenie nowego modala do prezentacji propozycji AIIntegracja z istniejącym systemem tłumaczeń (TranslationsSwitcher)Obsługa stanów ładowania podczas generowaniaBackend:Endpoint do generowania opisu przez AIEndpoint do generowania obrazu przez AIIntegracja z serwisem AIDo wyjaśnienia:Format zwracanych danych (języki, długość opisu)Gdzie przechowywać wygenerowane obrazy?Obsługa błędów i timeout'ówZależności:Makieta UI modala (oczekiwanie na design od Mariusza)Dokumentacja API dla serwisu AITest casesGenerowanie opisu dla nowego dodatkuGenerowanie opisu dla istniejącego dodatku (porównanie)Generowanie obrazu gdy brak obecnegoObsługa błędów APIAnulowanie generowaniaZatwierdzenie/odrzucenie propozycji"
144275,CHEC-5945,(6h) [B] Checkout backend API feedback from tests and connect API ,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,10800,2025-08-21T10:31:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""call, unifikacja payloadu extras i cart init""}]}]}",Zadanie na feedback z wdrożenia upper-api https://gitlab-ee.profitroom.net/microservices/monorepo/-/merge_requests/9011
144601,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-21T09:32:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""deploy + hotfix i weryfikacje/monitoring""}]}]}","CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
145891,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,4500,2025-08-21T09:30:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
145862,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-21T09:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146558,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-21T08:41:00.000+0200,,
146561,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-21T08:41:00.000+0200,,"Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
146559,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,9000,2025-08-21T08:41:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146931,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,5400,2025-08-21T08:06:00.000+0200,,Team Leaders work-log.
144230,CHEC-5597,(6h) Fix Dependencies Between Modules in Upsell,Tech Debt,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,10800,2025-08-21T07:01:00.000+0200,,"Analiza Naruszeń Architektury Aplikacji - Raport DeptracFoundational ObservationsDeptrac wykrył liczne naruszenia reguł zależności między modułami aplikacjiAplikacja podzielona jest na 4 główne warstwy: GuestPanel, TimeSlot, Upsell i SharedZgodnie z konfiguracją w deptrac.yaml, dozwolone są tylko następujące zależności:GuestPanel może zależeć od SharedTimeSlot może zależeć od SharedUpsell może zależeć od SharedShared nie powinien zależeć od żadnej innej warstwyAnaliza Naruszeń Według Modułów1. Moduł GuestPanelNaruszenia:Klasy w GuestPanel nieprawidłowo zależą od modułu Upsell:ModifyReservationPreviewView zależy od ExtrasCollection (4 naruszenia)PaymentRoomFactory zależy od ExtrasCollection (2 naruszenia)Podsumowanie: 6 naruszeń, wszystkie dotyczą nieprawidłowych zależności od modułu Upsell.2. Moduł SharedNaruszenia:Shared nieprawidłowo zależy od GuestPanel (53 naruszenia):Zależności od klas takich jak GuestReservation, BookingConditions, Offer, OffersInReservation, Room, Voucher i innychZależności od interfejsów repozytoriów z GuestPanelZależności od komend i handlerów z GuestPanelShared nieprawidłowo zależy od Upsell (25 naruszeń):Zależności od klas takich jak ExtrasCollection, Extra, UpsellReservation, CompleteCartZależności od interfejsów i wyjątków z UpsellPodsumowanie: 78 naruszeń, z czego 53 dotyczą nieprawidłowych zależności od GuestPanel, a 25 od Upsell.3. Moduły TimeSlot i UpsellNie wykryto naruszeń w tych modułach w przedstawionym raporcie.Szczegółowa Analiza ProblemówProblem 1: Warstwa Shared Zależy od Innych WarstwNajwiększym problemem jest to, że warstwa Shared, która powinna być niezależna, ma liczne zależności od innych warstw:Repozytoria w Shared zależą od modeli domenowych z innych warstw:OffersRepository, BookingConditionsRepository, PricingRepository itd.Interfejsy w Shared definiują metody używające typów z innych warstw:ExtrasFinderInterface, ReservationCancellerInterface, OffersRepositoryInterface itd.Handlery zdarzeń w Shared zależą od komend i klas z innych warstw:ReservationChangedByGuestSavedHandler, ReservationBaseHandler itd.Problem 2: GuestPanel Zależy od UpsellModuł GuestPanel nieprawidłowo zależy od modułu Upsell, co narusza zasadę separacji modułów:Klasy widoków i fabryk w GuestPanel używają klas z modułu UpsellRekomendacjeRefaktoryzacja warstwy Shared:Przenieś wspólne interfejsy i abstrakcje do SharedUsuń konkretne implementacje zależne od innych warstwWprowadź wzorce adaptacyjne lub fasady do komunikacji między warstwamiWprowadzenie warstwy abstrakcji:Stwórz interfejsy w Shared, które będą implementowane przez konkretne warstwyUżyj wstrzykiwania zależności do dostarczania implementacjiReorganizacja modeli domenowych:Przenieś wspólne modele do Shared lub stwórz ich abstrakcjeUżyj mapperów do konwersji między modelami różnych warstwUsunięcie bezpośrednich zależności GuestPanel od Upsell:Wprowadź interfejsy w Shared do komunikacji między tymi modułamiUżyj wzorca obserwatora lub mediatora do komunikacjiPodsumowanieRaport Deptrac ujawnił 84 naruszenia reguł architektury, głównie w warstwie Shared (78 naruszeń) i GuestPanel (6 naruszeń). Głównym problemem jest to, że warstwa Shared, która powinna być niezależna, ma liczne zależności od innych warstw, co narusza zasadę separacji modułów i może prowadzić do trudności w utrzymaniu i rozwijaniu aplikacji. Konieczna jest refaktoryzacja, szczególnie warstwy Shared, aby przywrócić prawidłową strukturę zależności."
147658,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,5400,2025-08-21T05:28:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147657,CHEC-6000,(5h ten sprint) [M\L] Select architecture for checkout/upsell to scale up new checkout,Spike,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,7200,2025-08-21T04:58:00.000+0200,,"W ramach zadania pomyśleć jak wydzielić moduł checkout z backendowego upsell-u i jak ogólnie podejść do architektury backendów używanych w checkout:https://gitlab-ee.profitroom.net/microservices/monorepo/blob/5ad43d5ecabbcce04eec90f91eb81d1cf6f786c2/services/upsell/src/CheckoutRozważyć:osobne monorepoosobne pody czy workery dla modułówW ramach spike-a:konsultacje i refinementy wewnątrz zespołu i wypracowanie wizji, spisanie jejkonsultacje z CTkonsultacje z devops ?Zadanie jest ważne bo jeśli na 2 kroku będziemy używać backendu z mikroserwisu upsell, to wtedy może nie wyrobić api i workery. Przy włączaniu kolejnym hotelom upsell-u w ramach może wzrosnąć obciążenie."
147552,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,21600,2025-08-20T21:05:00.000+0200,,"CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
144108,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-20T20:56:07.159+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily, przypisanie refinement leadow""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144107,CHEC-5945,(6h) [B] Checkout backend API feedback from tests and connect API ,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,7200,2025-08-20T19:55:34.709+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""spotkanie i mr z poprawka""}]}]}",Zadanie na feedback z wdrożenia upper-api https://gitlab-ee.profitroom.net/microservices/monorepo/-/merge_requests/9011
144106,CHEC-5995,(5h) [D] Initialize Cookie Monster with consent text override in checkout,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,14400,2025-08-20T17:55:11.525+0200,,"Te 3 zgody w cookie monster na step 2 i 3 powinny pochodzi z serwisu zgód.Aby je zobaczyc odpal w trybie prywatnym link: https://checkout.profitroom.dev/en/booking/step3/material/testjustynabe/D250811N088/a319c73d771a03b6b5e44919f39ec1c3?Currency=GBP&firstStepOccupancy[r1_adults]=2&Source=v7&cart_id=d18def3b-32b5-4995-a49c-aceb13261fd2Trzeba zaimplementowac analogicznie do zmian zrobionych przez zespół BE, pobieranie tresci tych zgód z bazy danych: https://gitlab-ee.profitroom.net/booking-engine/booking-engine-7/-/merge_requests/1495/diffs#56c09cc1b625d95c5a53bed958240728ffc2513b_0_23
Zgody, ktore checmy wyświetlic są widoczne w suite pod poniższym linkiem:https://suite.profitroom.dev/en/8240/consents-management/listing
Zapytania do bazy projekcji z których chcemy czytac treści zgód:select * from projection_consents_content
where siteId in (8240)
  and purpose = 'cookie'
  and scope = 'default'select * from projection_translations
where siteId = 8240 and entityId = 'd8a07d6d-a0d2-4943-ac4e-4b3c0a109ad9'
and locale = 'pl'PytaniaCzy po zrobieniu rezerwacji zapisują się zgody kolejno w kolumnach `CookieXXXConsentVaultRef` w tabeli bk_PersonalDetails gdzie XXX oznacza np. ‘Markieting’, ‘Neccesary’ etc.zapytanie `select * from bk_PersonalDetails order by PersonalDetailsID desc`Czy po zrobieniu rezerwacji zapisuje się zgoda przy osobie?
bierzemy z bazy booking personId z kolumny bk_PersonalDetails->VaultRef
https://microservices.profitroom.dev/dashboard
query.vault.get-personCzy ta zgoda nie jest po prostu do rezerwacji (nie jest z nią powiązana) a jeśli nie to jak to obsłużyc w upper?Czy zgoda przypisana do osoby jest w bazie danychselect * from consents_content.content_translations
where vault_content_id = '48864d31-4540-11f0-ac0c-41b5576c1c3f'Odpowiedz: TYLKO WYŚWIETLANIE - NIE ZAPISUJEMY ID ZGODY"
144073,CHEC-5594,(8h)Migration to Kubernetes be-payment-gateway,Tech Debt,Highest,On Hold,grzegorz.bandur@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-20T15:43:33.651+0200,,"Pomoc w devopsom w realizacji przedsiewzięcia
Zadanie dla DEVOPS:"
147317,WORKLOG-18,Absence,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,28800,2025-08-20T15:26:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
144048,CHEC-5309,(2h) (M) Setting up logging in ELK [TIMESLOTS] ,Tech Debt,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,2700,2025-08-20T14:26:25.990+0200,,"DO REFINEMENTU:dodać logowanie do ELK w takich obszarach, tak żeby przyspieszyło proces debugowania zgłaszanych problemów myśleć też o tym logowaniu tak, by przysłużyło się w przyszłości supportowi"
147147,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,3600,2025-08-20T13:40:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144606,WORKLOG-9,Code review,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,1800,2025-08-20T11:37:00.000+0200,,
144603,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-20T11:34:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily + przypisanie refinement leadów + office day""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145890,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,14400,2025-08-20T11:30:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
144605,CHEC-5958,(4H) (L) [B] Step 2: Założenie rezerwacji (step2save),Task,None,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,3600,2025-08-20T10:37:00.000+0200,,"Implementacja endpointa API do zapisywania rezerwacji w nowym flow CheckoutV2 na podstawie step2save w https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/e39f917dd5f5d4761ef3132d789b803641862b22/app/controllers/booking_step2.php wzorując się na implementacji api w https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/controllers/checkout_v2/step2_api.php  Endpoint będzie przyjmował dane gościa, kod promocyjny oraz parametry trackingowe, a następnie tworzył rezerwację w systemie. Dane o pokojach i dodatkach będą
  pobierane z koszyka (cart) na podstawie przekazanego cartId.  Po pomyślnym zapisie rezerwacji, API zwróci numer referencyjny, hash oraz URL do API kroku 3 (potwierdzenie i płatność).  To kluczowy element nowego procesu rezerwacji, który zastąpi obecny formularzowy mechanizm zapisywania bookingu."
145861,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,2700,2025-08-20T10:30:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145860,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-20T09:30:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145859,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-20T09:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144118,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,5400,2025-08-20T08:48:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[]}","CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
146556,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-20T08:40:00.000+0200,,Team Leaders work-log.
146557,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,1800,2025-08-20T08:40:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146555,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,7200,2025-08-20T08:39:00.000+0200,,Team Leaders work-log.
147655,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,3600,2025-08-20T05:56:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144114,CHEC-5594,(8h)Migration to Kubernetes be-payment-gateway,Tech Debt,Highest,On Hold,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,10800,2025-08-20T04:44:00.000+0200,,"Pomoc w devopsom w realizacji przedsiewzięcia
Zadanie dla DEVOPS:"
147656,CHEC-5982,(S) [B] Step3A: Pingowanie statusu płatności,Task,High,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,19800,2025-08-20T01:27:00.000+0200,,
143953,CHEC-5958,(4H) (L) [B] Step 2: Założenie rezerwacji (step2save),Task,None,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,2400,2025-08-19T23:41:48.358+0200,,"Implementacja endpointa API do zapisywania rezerwacji w nowym flow CheckoutV2 na podstawie step2save w https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/e39f917dd5f5d4761ef3132d789b803641862b22/app/controllers/booking_step2.php wzorując się na implementacji api w https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/controllers/checkout_v2/step2_api.php  Endpoint będzie przyjmował dane gościa, kod promocyjny oraz parametry trackingowe, a następnie tworzył rezerwację w systemie. Dane o pokojach i dodatkach będą
  pobierane z koszyka (cart) na podstawie przekazanego cartId.  Po pomyślnym zapisie rezerwacji, API zwróci numer referencyjny, hash oraz URL do API kroku 3 (potwierdzenie i płatność).  To kluczowy element nowego procesu rezerwacji, który zastąpi obecny formularzowy mechanizm zapisywania bookingu."
143950,CHEC-5309,(2h) (M) Setting up logging in ELK [TIMESLOTS] ,Tech Debt,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,2700,2025-08-19T23:34:49.585+0200,,"DO REFINEMENTU:dodać logowanie do ELK w takich obszarach, tak żeby przyspieszyło proces debugowania zgłaszanych problemów myśleć też o tym logowaniu tak, by przysłużyło się w przyszłości supportowi"
143951,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-19T22:20:03.289+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""konsultacje przy testach i poprawki""}]}]}","CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
147551,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,14400,2025-08-19T21:04:00.000+0200,,"CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
147315,WORKLOG-18,Absence,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,28800,2025-08-19T15:26:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
145889,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,6300,2025-08-19T14:00:00.000+0200,,
147146,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,10800,2025-08-19T13:39:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145858,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-19T13:30:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145857,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-19T13:30:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144276,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,1800,2025-08-19T13:03:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
144280,CHEC-5945,(6h) [B] Checkout backend API feedback from tests and connect API ,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-19T12:36:00.000+0200,,Zadanie na feedback z wdrożenia upper-api https://gitlab-ee.profitroom.net/microservices/monorepo/-/merge_requests/9011
144278,CHEC-6000,(5h ten sprint) [M\L] Select architecture for checkout/upsell to scale up new checkout,Spike,None,Completed,dawid.sikorski@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-19T12:34:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""en""}]}]}","W ramach zadania pomyśleć jak wydzielić moduł checkout z backendowego upsell-u i jak ogólnie podejść do architektury backendów używanych w checkout:https://gitlab-ee.profitroom.net/microservices/monorepo/blob/5ad43d5ecabbcce04eec90f91eb81d1cf6f786c2/services/upsell/src/CheckoutRozważyć:osobne monorepoosobne pody czy workery dla modułówW ramach spike-a:konsultacje i refinementy wewnątrz zespołu i wypracowanie wizji, spisanie jejkonsultacje z CTkonsultacje z devops ?Zadanie jest ważne bo jeśli na 2 kroku będziemy używać backendu z mikroserwisu upsell, to wtedy może nie wyrobić api i workery. Przy włączaniu kolejnym hotelom upsell-u w ramach może wzrosnąć obciążenie."
144277,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-19T12:33:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""en""}]}]}","Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
145888,CHEC-6095,[F][Step 2 Extras] Integration extras view with the API,Task,None,Completed,pawel.kwiecien@profitroom.com,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,2700,2025-08-19T12:30:00.000+0200,,"Implementacja obsługi API koszyka z możliwością inicjalizacji, dodawania dodatków i pobierania listy dostępnych dodatków. Integracja API z micro fronted’em dodatków.I. KontraktEndpoint: POST /checkout/{locale}/{siteKey}/cartLogika: Jeśli w URL istnieje cart_id, użyj istniejącego koszykaJeśli brak w URL cart_id, utwórz nowy koszyk, pobierze cart_id i dodaj do URL2. Pobieranie dodatkówEndpoint: GET /checkout/{locale}/{siteKey}/carts/{cartId}/extrasLogika: Pobierz listę dostępnych dodatków dla koszyka3. Dodawanie dodatku do koszykaEndpoint: POST /checkout/{locale}/{siteKey}/carts/{cartId}/items/{cartItemId}/subitemsLogika: Dodaj wybrany dodatek do konkretnego itemu w koszykuII. Zakres realizacji :1. Utworzenie wymaganych interfejsow :
- CartItem
- CartSubItem
- CartExtra
- Cart
- CartInitRequest
- CartAddSubItemRequest
- CartStoreState2. Utworzenie store dla dodatków// src/stores/ExtrasStore.ts
- useExtrasStore w actions:
  - initCart()
  - fetchExtras(cartId: string)
  - addSubItem(request: CartAddSubItemRequest)Integracja danych z API z istniejącymi komponentami służącymi do wyświetlania dodatkówDodanie obsługi błędówBłędy inicjalizacji koszykaBłędy pobierania dodatkówBłędy dodawania dodatków6. Implementacja stanów ładowanialoading - inicjalizacja koszyka - wyświetlamy preloaderaddingExtra - dodawanie dodatku - blokujemy interface na czas request’uDodatkowe wymaganiawysyłanie na event bus (window) informacji o wystąpieniu błędu. Aplikacja hosta obsłuży wyjątek i wyświetli toast.Estymata: 15hTesty (musimy uwzględnić multiroom, dark mode, różne konfiguracje kategorii, trzymanie stanu koszyka, inicjalizację koszyka):"
144279,CHEC-5995,(5h) [D] Initialize Cookie Monster with consent text override in checkout,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,10800,2025-08-19T10:34:00.000+0200,,"Te 3 zgody w cookie monster na step 2 i 3 powinny pochodzi z serwisu zgód.Aby je zobaczyc odpal w trybie prywatnym link: https://checkout.profitroom.dev/en/booking/step3/material/testjustynabe/D250811N088/a319c73d771a03b6b5e44919f39ec1c3?Currency=GBP&firstStepOccupancy[r1_adults]=2&Source=v7&cart_id=d18def3b-32b5-4995-a49c-aceb13261fd2Trzeba zaimplementowac analogicznie do zmian zrobionych przez zespół BE, pobieranie tresci tych zgód z bazy danych: https://gitlab-ee.profitroom.net/booking-engine/booking-engine-7/-/merge_requests/1495/diffs#56c09cc1b625d95c5a53bed958240728ffc2513b_0_23
Zgody, ktore checmy wyświetlic są widoczne w suite pod poniższym linkiem:https://suite.profitroom.dev/en/8240/consents-management/listing
Zapytania do bazy projekcji z których chcemy czytac treści zgód:select * from projection_consents_content
where siteId in (8240)
  and purpose = 'cookie'
  and scope = 'default'select * from projection_translations
where siteId = 8240 and entityId = 'd8a07d6d-a0d2-4943-ac4e-4b3c0a109ad9'
and locale = 'pl'PytaniaCzy po zrobieniu rezerwacji zapisują się zgody kolejno w kolumnach `CookieXXXConsentVaultRef` w tabeli bk_PersonalDetails gdzie XXX oznacza np. ‘Markieting’, ‘Neccesary’ etc.zapytanie `select * from bk_PersonalDetails order by PersonalDetailsID desc`Czy po zrobieniu rezerwacji zapisuje się zgoda przy osobie?
bierzemy z bazy booking personId z kolumny bk_PersonalDetails->VaultRef
https://microservices.profitroom.dev/dashboard
query.vault.get-personCzy ta zgoda nie jest po prostu do rezerwacji (nie jest z nią powiązana) a jeśli nie to jak to obsłużyc w upper?Czy zgoda przypisana do osoby jest w bazie danychselect * from consents_content.content_translations
where vault_content_id = '48864d31-4540-11f0-ac0c-41b5576c1c3f'Odpowiedz: TYLKO WYŚWIETLANIE - NIE ZAPISUJEMY ID ZGODY"
145855,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,7200,2025-08-19T10:30:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
145854,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,1800,2025-08-19T09:00:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146554,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,7200,2025-08-19T08:35:00.000+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
146553,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-19T08:35:00.000+0200,,
146551,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-19T08:33:00.000+0200,,Team Leaders work-log.
146550,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,9000,2025-08-19T08:33:00.000+0200,,Team Leaders work-log.
145853,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,2700,2025-08-19T08:00:00.000+0200,,
147653,CHEC-6000,(5h ten sprint) [M\L] Select architecture for checkout/upsell to scale up new checkout,Spike,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,3600,2025-08-19T05:55:00.000+0200,,"W ramach zadania pomyśleć jak wydzielić moduł checkout z backendowego upsell-u i jak ogólnie podejść do architektury backendów używanych w checkout:https://gitlab-ee.profitroom.net/microservices/monorepo/blob/5ad43d5ecabbcce04eec90f91eb81d1cf6f786c2/services/upsell/src/CheckoutRozważyć:osobne monorepoosobne pody czy workery dla modułówW ramach spike-a:konsultacje i refinementy wewnątrz zespołu i wypracowanie wizji, spisanie jejkonsultacje z CTkonsultacje z devops ?Zadanie jest ważne bo jeśli na 2 kroku będziemy używać backendu z mikroserwisu upsell, to wtedy może nie wyrobić api i workery. Przy włączaniu kolejnym hotelom upsell-u w ramach może wzrosnąć obciążenie."
147652,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,3600,2025-08-19T05:55:00.000+0200,,"Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
147651,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,7200,2025-08-19T04:54:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147654,CHEC-5978,(L) [B] Step 3: Zakładanie płatności (klikanie rezerwuj),Task,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,9000,2025-08-19T04:25:00.000+0200,,"Refinement dokumentacja - Proces zakładania płatności w Upper61. Przegląd architekturySystem płatności w Upper6 składa się z następujących komponentów:1.1 KontroleryBooking_Step3_Controller (app/controllers/booking_step3.php) - główny kontroler obsługujący krok 3 rezerwacjiBooking_Payment_Controller (app/controllers/booking_payment.php) - kontroler obsługujący płatności dla istniejących rezerwacji1.2 Biblioteki zewnętrznelib-ideabooking - podstawowe klasy rezerwacji i metod płatnościBookingPaymentMethod - encja reprezentująca metodę płatnościBooking - główna klasa rezerwacjibe-gateways (vendor/profitroom/be-gateways) - integracje z bramkami płatnościPayment - klasa bazowa dla wszystkich płatnościKlasy specyficzne dla różnych metod płatności2. Flow zakładania płatności2.1 Krok 3 - Potwierdzenie rezerwacji z płatnościąUżytkownik wypełnia formularz na stronie step3Formularz jest wysyłany do action_confirm() metodą POSTWalidacja danych (linie 485-555 w booking_step3.php)Sprawdzenie dostępności (linie 478-483)Zapisanie danych rezerwacji (linie 556-745)2.2 Proces płatnościPobranie metody płatności:$Method = BookingPaymentMethod::Get($MethodID, $context->booking->OfferID, $context->booking->ChannelID);Utworzenie obiektu Payment:$Payment = Payment::ForMethod($Method);Ustawienie URL-i powrotu:$Payment->BackUrlOK = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=ok';
$Payment->BackUrlFail = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=failed';Procesowanie płatności:$Payment->Process($context->booking);2.3 Metoda Process() w klasie PaymentStandardowy flow:public function Process($Booking, $IsAvailCheck = true)
{
    BookingEvents::Fire('PaymentOpening', $Booking);
    $this->Validate($Booking);
    $Transaction = $this->CreateTransaction($Booking);
    $this->BeginPayment($Booking, $Transaction);
    $PaymentID = $this->CreatePayment($Booking, $Transaction);
    return $this->ConfirmBooking($Booking, $PaymentID, $IsAvailCheck);
}3. Typy odpowiedzi z klas Payment3.1 Klasy zwracające JSON z exitP24ApplePayPayment - zwraca JSON i kończy wykonanie:header('Content-Type: application/json');
echo json_encode($response);
exit;3.2 Klasy generujące HTML z formularzem POSTBePaymentProvidersPayment, ECardPayment, StripePayment - generują HTML z automatycznie wysyłanym formularzem3.3 Klasy bez bezpośredniego outputCreditCardPayment - nie generuje output, tylko zapisuje dane karty4. Wyzwania dla APIBrak jednolitego interfejsu - każda klasa może zwracać dane w inny sposóbUżycie exit - przerywa flow i uniemożliwia zwrócenie odpowiedzi JSONAutomatyczne przekierowania - formularze POST automatycznie przekierowują użytkownikaBrak możliwości przechwycenia exit - w PHP nie można przechwycić instrukcji exit/die5. Rekomendowane rozwiązanie dla APIOpcja 2: Nowe klasy Payment dla API (REKOMENDOWANA)Utworzenie dedykowanych klas dziedziczących po Payment, ale zwracających dane w formacie API:class ApiP24ApplePayPayment extends P24ApplePayPayment
{
    public function Process($Booking, $IsAvailCheck = true)
    {
        $this->Validate($Booking);
        $transaction = $this->CreateTransaction($Booking);
        return [
            'type' => 'apple_pay',
            'data' => [
                'paymentAmount' => $transaction['PaymentAmount'],
                'currency' => $this->infrastructureProvider->getDefaultCurrency(),
                'transactionId' => $transaction['TransactionID'],
                'email' => $transaction['Email'],
                'returnUrl' => $this->BackUrlOK
            ]
        ];
    }
}To podejście:Nie narusza istniejącej logikiPozwala na pełną kontrolę nad odpowiedziąJest zgodne z zasadą Open/ClosedUmożliwia stopniową migracjęUnika problemu z exit6. Przykładowy szkielet endpoint'a APIclass Step3_Api_Controller extends CheckoutV2_Base_Controller
{
    public function action_create_payment($lang, $siteKey, $bookingRef, $hash)
    {
        // 1. Walidacja i pobranie rezerwacji
        $booking = $this->fetchBookingByReference($bookingRef);
        // 2. Sprawdzenie hash'a
        if ($hash != $booking->GetHash()) {
            return $this->errorResponse('Invalid hash');
        }
        // 3. Walidacja danych
        $validation = $this->validatePaymentData(Input::all());
        // 4. Utworzenie płatności
        $Method = BookingPaymentMethod::Get($methodId);
        $Payment = Payment::ForMethod($Method);
        // 5. Procesowanie
        try {
            $result = $Payment->Process($booking);
            return $this->successResponse(['payment_id' => $result]);
        } catch (Exception $e) {
            return $this->errorResponse($e->getMessage());
        }
    }
}7. BezpieczeństwoHash rezerwacji sprawdzany przy każdej operacjiCSRF protection (Laravel)Walidacja wszystkich danych wejściowychSSL/TLS wymagane dla płatności onlinePCI compliance dla płatności kartą8. PodsumowanieSystem płatności w Upper6 jest rozbudowany ale wymaga adaptacji dla API:Różne metody płatności używają różnych typów output (JSON, HTML, redirect)Istniejące klasy używają exit co komplikuje integrację z APIKonieczne jest utworzenie warstwy abstrakcji dla APIRekomendowane jest tworzenie dedykowanych klas API dziedziczących po istniejącychKluczowe jest zrozumienie flow: Step3 → Confirm → Payment::Process() → (JSON/HTML/Redirect)Warto sprawdzić też załączony plik"
143952,WORKLOG-23,Consultations with non-software teams,Worklog,None,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,1800,2025-08-19T00:20:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""timeslots""}]}]}","All discussions, meetings, consultations, and tasks that arise from teams collaborating with software, such as DevOps, IT, Customer Success, etc.In other words, these are consultations that take us away from planned tasks and are not related to the analysis and refinement of sprint tasks - in contrast to cross-team consultations."
143949,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,3600,2025-08-19T00:19:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""en""}]}]}","Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
143948,WORKLOG-14,SUP2 Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,1200,2025-08-19T00:19:00.000+0200,,Spotkanie z 2nd Line of Support
143947,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,5400,2025-08-19T00:19:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily + checkout architecture""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147550,SUP-14875,Room upgrade for arrangements,Support,High,Completed,arkadiusz.prosciak@profitroom.com,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,21600,2025-08-18T21:04:00.000+0200,,"Room upgrade pozwala na zmianę pokoju, który nie obsługuje aranżacji z pierwotnego pokoju.SiteID = 7325Oferta wyceniona wg aranżacji:  Pobyt dla aranżacji 3 osoby + 1 dziecko - pokój możliwy do rezerwacji: Deluxe z wannąhttps://booking.profitroom.com/pl/zuzatest/pricelist/offers/408174/?check-in=2025-08-02&check-out=2025-08-03&currency=PLN&r1_adults=3&r1_child6-10=1&no-cache=1 step4 https://booking.profitroom.com/guest/pl/zuzatest/ENOEOIN?currency=PLN&mode=confirmation_step&newsletter_email_uuid=ea3cc6d6-4731-11ee-807e-ce52a91224dbpropozycje upgrade’u - zrzut niżej: te pokoje nie były proponowane na step1 Prezydencki: nie ma aranżacji 3+1, max pojemność pokoju też jest mniejsza niż 4 osoby
konfig pokoju:  Rezerwacja:"
143856,CHEC-6000,(5h ten sprint) [M\L] Select architecture for checkout/upsell to scale up new checkout,Spike,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,10800,2025-08-18T20:15:01.619+0200,,"W ramach zadania pomyśleć jak wydzielić moduł checkout z backendowego upsell-u i jak ogólnie podejść do architektury backendów używanych w checkout:https://gitlab-ee.profitroom.net/microservices/monorepo/blob/5ad43d5ecabbcce04eec90f91eb81d1cf6f786c2/services/upsell/src/CheckoutRozważyć:osobne monorepoosobne pody czy workery dla modułówW ramach spike-a:konsultacje i refinementy wewnątrz zespołu i wypracowanie wizji, spisanie jejkonsultacje z CTkonsultacje z devops ?Zadanie jest ważne bo jeśli na 2 kroku będziemy używać backendu z mikroserwisu upsell, to wtedy może nie wyrobić api i workery. Przy włączaniu kolejnym hotelom upsell-u w ramach może wzrosnąć obciążenie."
143847,WORKLOG-11,Failures and troubleshooting,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-18T16:36:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""fix dla applepay - debugowanie z Grzechem i deploy ""}]}]}",Checking DLQDebugging emergenciesDebugging sentry alertsDebugging problems from microservices notifications/crm notifications/
143845,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-18T16:34:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily + checkout architecture""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143844,WORKLOG-8,"I don't know what to log in for, but I really want to.",Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,1200,2025-08-18T16:33:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""poprawa dostępności na obiekcie Justyny - prod""}]}]}",
147314,WORKLOG-18,Absence,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,28800,2025-08-18T15:26:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
143846,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,4500,2025-08-18T15:19:24.920+0200,,"CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
143831,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,1800,2025-08-18T15:17:52.105+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143843,CHEC-5309,(2h) (M) Setting up logging in ELK [TIMESLOTS] ,Tech Debt,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,4800,2025-08-18T15:12:11.994+0200,,"DO REFINEMENTU:dodać logowanie do ELK w takich obszarach, tak żeby przyspieszyło proces debugowania zgłaszanych problemów myśleć też o tym logowaniu tak, by przysłużyło się w przyszłości supportowi"
143829,SUP-14875,Room upgrade for arrangements,Support,High,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,9000,2025-08-18T14:16:51.754+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""testy z testerem, szukanie powodów faili e2e""}]}]}","Room upgrade pozwala na zmianę pokoju, który nie obsługuje aranżacji z pierwotnego pokoju.SiteID = 7325Oferta wyceniona wg aranżacji:  Pobyt dla aranżacji 3 osoby + 1 dziecko - pokój możliwy do rezerwacji: Deluxe z wannąhttps://booking.profitroom.com/pl/zuzatest/pricelist/offers/408174/?check-in=2025-08-02&check-out=2025-08-03&currency=PLN&r1_adults=3&r1_child6-10=1&no-cache=1 step4 https://booking.profitroom.com/guest/pl/zuzatest/ENOEOIN?currency=PLN&mode=confirmation_step&newsletter_email_uuid=ea3cc6d6-4731-11ee-807e-ce52a91224dbpropozycje upgrade’u - zrzut niżej: te pokoje nie były proponowane na step1 Prezydencki: nie ma aranżacji 3+1, max pojemność pokoju też jest mniejsza niż 4 osoby
konfig pokoju:  Rezerwacja:"
147151,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,3600,2025-08-18T13:43:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143832,CHEC-6000,(5h ten sprint) [M\L] Select architecture for checkout/upsell to scale up new checkout,Spike,None,Completed,dawid.sikorski@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,10800,2025-08-18T12:48:47.127+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""self refi z ai, 2 spotkania""}]}]}","W ramach zadania pomyśleć jak wydzielić moduł checkout z backendowego upsell-u i jak ogólnie podejść do architektury backendów używanych w checkout:https://gitlab-ee.profitroom.net/microservices/monorepo/blob/5ad43d5ecabbcce04eec90f91eb81d1cf6f786c2/services/upsell/src/CheckoutRozważyć:osobne monorepoosobne pody czy workery dla modułówW ramach spike-a:konsultacje i refinementy wewnątrz zespołu i wypracowanie wizji, spisanie jejkonsultacje z CTkonsultacje z devops ?Zadanie jest ważne bo jeśli na 2 kroku będziemy używać backendu z mikroserwisu upsell, to wtedy może nie wyrobić api i workery. Przy włączaniu kolejnym hotelom upsell-u w ramach może wzrosnąć obciążenie."
146549,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-18T08:32:00.000+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
146548,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,1800,2025-08-18T08:32:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146546,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,9000,2025-08-18T08:31:00.000+0200,,
146547,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,7200,2025-08-18T08:31:00.000+0200,,Team Leaders work-log.
145849,WORKLOG-18,Absence,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,28800,2025-08-18T08:00:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
143765,CHEC-6077,Bugs in step2 - calculation and breakdown,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,1800,2025-08-18T07:35:15.097+0200,,"Błąd w ofertach łączonych dla naliczania OS/NOCDla widoku w upper: https://checkout.profitroom.dev/pl/booking/step2/material/checkoudzikSeba?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=EUR&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449gdzie kwota za dodatek pokazuje się “320” EUR i to jest ok bo 20 eur x 8 nocy x 2 osoby = 320 EUR
natomiast w api wyliczamy niby tymi samymi metodami i mamy kwotę “400” EUR.Reszta sposobów naliczania działa prawidłowo z tego co sprawdzałemhttps://checkout.profitroom.dev/api/pl/step2/checkoudzikSeba/booking?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=GBP&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449&phid=comrvq9lpaObserwacja: możliwe, że kwota extras na widoku jest wyliczana jakimś innym skryptem i dlatego jest prawidłowa - przecież dodatki są przekazywane w górę ramki. W IBL za to możliwe, że jest błąd.Błąd w breakdown - ogólnyExtrasy w api w polu pricingBreakdown nie są dobrze przypisane:https://checkout.profitroom.dev/api/pl/step2/checkoudzikSeba/booking?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=GBP&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449&phid=comrvq9lpadodatek os/noc wpada na 4 dzień oferty łączonej (1 dzień oferty z dostępnością) i ogólnie te dodatki nie są dobrze przypisywane w breakdown - byc moze dla oferty laczonej albo roznych dodatkow.Dodatki powinny byc dodawane w zaleznosci od sposobu naliczania.
Ogólnie mamy 2 mechanizmy:jeden to liczenie wszystkich total i tutaj trzeba dostarczyc selectedExtras aby skorzystac z liczenia z IBL $context->booking->Recalculate();
https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/libraries/Upper/Services/CheckoutV2/CartService.php#L14
drugi to na podstawie cart-a poskładanie RoomPricingBreakdown - wtedy powinno się wszystko zgadzac
https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/libraries/Upper/Services/CheckoutV2/PricingService.php#L129"
147650,CHEC-5978,(L) [B] Step 3: Zakładanie płatności (klikanie rezerwuj),Task,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,5400,2025-08-18T05:23:00.000+0200,,"Refinement dokumentacja - Proces zakładania płatności w Upper61. Przegląd architekturySystem płatności w Upper6 składa się z następujących komponentów:1.1 KontroleryBooking_Step3_Controller (app/controllers/booking_step3.php) - główny kontroler obsługujący krok 3 rezerwacjiBooking_Payment_Controller (app/controllers/booking_payment.php) - kontroler obsługujący płatności dla istniejących rezerwacji1.2 Biblioteki zewnętrznelib-ideabooking - podstawowe klasy rezerwacji i metod płatnościBookingPaymentMethod - encja reprezentująca metodę płatnościBooking - główna klasa rezerwacjibe-gateways (vendor/profitroom/be-gateways) - integracje z bramkami płatnościPayment - klasa bazowa dla wszystkich płatnościKlasy specyficzne dla różnych metod płatności2. Flow zakładania płatności2.1 Krok 3 - Potwierdzenie rezerwacji z płatnościąUżytkownik wypełnia formularz na stronie step3Formularz jest wysyłany do action_confirm() metodą POSTWalidacja danych (linie 485-555 w booking_step3.php)Sprawdzenie dostępności (linie 478-483)Zapisanie danych rezerwacji (linie 556-745)2.2 Proces płatnościPobranie metody płatności:$Method = BookingPaymentMethod::Get($MethodID, $context->booking->OfferID, $context->booking->ChannelID);Utworzenie obiektu Payment:$Payment = Payment::ForMethod($Method);Ustawienie URL-i powrotu:$Payment->BackUrlOK = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=ok';
$Payment->BackUrlFail = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=failed';Procesowanie płatności:$Payment->Process($context->booking);2.3 Metoda Process() w klasie PaymentStandardowy flow:public function Process($Booking, $IsAvailCheck = true)
{
    BookingEvents::Fire('PaymentOpening', $Booking);
    $this->Validate($Booking);
    $Transaction = $this->CreateTransaction($Booking);
    $this->BeginPayment($Booking, $Transaction);
    $PaymentID = $this->CreatePayment($Booking, $Transaction);
    return $this->ConfirmBooking($Booking, $PaymentID, $IsAvailCheck);
}3. Typy odpowiedzi z klas Payment3.1 Klasy zwracające JSON z exitP24ApplePayPayment - zwraca JSON i kończy wykonanie:header('Content-Type: application/json');
echo json_encode($response);
exit;3.2 Klasy generujące HTML z formularzem POSTBePaymentProvidersPayment, ECardPayment, StripePayment - generują HTML z automatycznie wysyłanym formularzem3.3 Klasy bez bezpośredniego outputCreditCardPayment - nie generuje output, tylko zapisuje dane karty4. Wyzwania dla APIBrak jednolitego interfejsu - każda klasa może zwracać dane w inny sposóbUżycie exit - przerywa flow i uniemożliwia zwrócenie odpowiedzi JSONAutomatyczne przekierowania - formularze POST automatycznie przekierowują użytkownikaBrak możliwości przechwycenia exit - w PHP nie można przechwycić instrukcji exit/die5. Rekomendowane rozwiązanie dla APIOpcja 2: Nowe klasy Payment dla API (REKOMENDOWANA)Utworzenie dedykowanych klas dziedziczących po Payment, ale zwracających dane w formacie API:class ApiP24ApplePayPayment extends P24ApplePayPayment
{
    public function Process($Booking, $IsAvailCheck = true)
    {
        $this->Validate($Booking);
        $transaction = $this->CreateTransaction($Booking);
        return [
            'type' => 'apple_pay',
            'data' => [
                'paymentAmount' => $transaction['PaymentAmount'],
                'currency' => $this->infrastructureProvider->getDefaultCurrency(),
                'transactionId' => $transaction['TransactionID'],
                'email' => $transaction['Email'],
                'returnUrl' => $this->BackUrlOK
            ]
        ];
    }
}To podejście:Nie narusza istniejącej logikiPozwala na pełną kontrolę nad odpowiedziąJest zgodne z zasadą Open/ClosedUmożliwia stopniową migracjęUnika problemu z exit6. Przykładowy szkielet endpoint'a APIclass Step3_Api_Controller extends CheckoutV2_Base_Controller
{
    public function action_create_payment($lang, $siteKey, $bookingRef, $hash)
    {
        // 1. Walidacja i pobranie rezerwacji
        $booking = $this->fetchBookingByReference($bookingRef);
        // 2. Sprawdzenie hash'a
        if ($hash != $booking->GetHash()) {
            return $this->errorResponse('Invalid hash');
        }
        // 3. Walidacja danych
        $validation = $this->validatePaymentData(Input::all());
        // 4. Utworzenie płatności
        $Method = BookingPaymentMethod::Get($methodId);
        $Payment = Payment::ForMethod($Method);
        // 5. Procesowanie
        try {
            $result = $Payment->Process($booking);
            return $this->successResponse(['payment_id' => $result]);
        } catch (Exception $e) {
            return $this->errorResponse($e->getMessage());
        }
    }
}7. BezpieczeństwoHash rezerwacji sprawdzany przy każdej operacjiCSRF protection (Laravel)Walidacja wszystkich danych wejściowychSSL/TLS wymagane dla płatności onlinePCI compliance dla płatności kartą8. PodsumowanieSystem płatności w Upper6 jest rozbudowany ale wymaga adaptacji dla API:Różne metody płatności używają różnych typów output (JSON, HTML, redirect)Istniejące klasy używają exit co komplikuje integrację z APIKonieczne jest utworzenie warstwy abstrakcji dla APIRekomendowane jest tworzenie dedykowanych klas API dziedziczących po istniejącychKluczowe jest zrozumienie flow: Step3 → Confirm → Payment::Process() → (JSON/HTML/Redirect)Warto sprawdzić też załączony plik"
147649,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,7200,2025-08-18T04:53:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147624,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,3600,2025-08-15T21:09:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147947,WORKLOG-18,Absence,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,28800,2025-08-15T14:49:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
146545,WORKLOG-18,Absence,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,28800,2025-08-15T08:30:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
145875,WORKLOG-18,Absence,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,28800,2025-08-15T08:00:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
147648,CHEC-5978,(L) [B] Step 3: Zakładanie płatności (klikanie rezerwuj),Task,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,18000,2025-08-15T01:50:00.000+0200,,"Refinement dokumentacja - Proces zakładania płatności w Upper61. Przegląd architekturySystem płatności w Upper6 składa się z następujących komponentów:1.1 KontroleryBooking_Step3_Controller (app/controllers/booking_step3.php) - główny kontroler obsługujący krok 3 rezerwacjiBooking_Payment_Controller (app/controllers/booking_payment.php) - kontroler obsługujący płatności dla istniejących rezerwacji1.2 Biblioteki zewnętrznelib-ideabooking - podstawowe klasy rezerwacji i metod płatnościBookingPaymentMethod - encja reprezentująca metodę płatnościBooking - główna klasa rezerwacjibe-gateways (vendor/profitroom/be-gateways) - integracje z bramkami płatnościPayment - klasa bazowa dla wszystkich płatnościKlasy specyficzne dla różnych metod płatności2. Flow zakładania płatności2.1 Krok 3 - Potwierdzenie rezerwacji z płatnościąUżytkownik wypełnia formularz na stronie step3Formularz jest wysyłany do action_confirm() metodą POSTWalidacja danych (linie 485-555 w booking_step3.php)Sprawdzenie dostępności (linie 478-483)Zapisanie danych rezerwacji (linie 556-745)2.2 Proces płatnościPobranie metody płatności:$Method = BookingPaymentMethod::Get($MethodID, $context->booking->OfferID, $context->booking->ChannelID);Utworzenie obiektu Payment:$Payment = Payment::ForMethod($Method);Ustawienie URL-i powrotu:$Payment->BackUrlOK = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=ok';
$Payment->BackUrlFail = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=failed';Procesowanie płatności:$Payment->Process($context->booking);2.3 Metoda Process() w klasie PaymentStandardowy flow:public function Process($Booking, $IsAvailCheck = true)
{
    BookingEvents::Fire('PaymentOpening', $Booking);
    $this->Validate($Booking);
    $Transaction = $this->CreateTransaction($Booking);
    $this->BeginPayment($Booking, $Transaction);
    $PaymentID = $this->CreatePayment($Booking, $Transaction);
    return $this->ConfirmBooking($Booking, $PaymentID, $IsAvailCheck);
}3. Typy odpowiedzi z klas Payment3.1 Klasy zwracające JSON z exitP24ApplePayPayment - zwraca JSON i kończy wykonanie:header('Content-Type: application/json');
echo json_encode($response);
exit;3.2 Klasy generujące HTML z formularzem POSTBePaymentProvidersPayment, ECardPayment, StripePayment - generują HTML z automatycznie wysyłanym formularzem3.3 Klasy bez bezpośredniego outputCreditCardPayment - nie generuje output, tylko zapisuje dane karty4. Wyzwania dla APIBrak jednolitego interfejsu - każda klasa może zwracać dane w inny sposóbUżycie exit - przerywa flow i uniemożliwia zwrócenie odpowiedzi JSONAutomatyczne przekierowania - formularze POST automatycznie przekierowują użytkownikaBrak możliwości przechwycenia exit - w PHP nie można przechwycić instrukcji exit/die5. Rekomendowane rozwiązanie dla APIOpcja 2: Nowe klasy Payment dla API (REKOMENDOWANA)Utworzenie dedykowanych klas dziedziczących po Payment, ale zwracających dane w formacie API:class ApiP24ApplePayPayment extends P24ApplePayPayment
{
    public function Process($Booking, $IsAvailCheck = true)
    {
        $this->Validate($Booking);
        $transaction = $this->CreateTransaction($Booking);
        return [
            'type' => 'apple_pay',
            'data' => [
                'paymentAmount' => $transaction['PaymentAmount'],
                'currency' => $this->infrastructureProvider->getDefaultCurrency(),
                'transactionId' => $transaction['TransactionID'],
                'email' => $transaction['Email'],
                'returnUrl' => $this->BackUrlOK
            ]
        ];
    }
}To podejście:Nie narusza istniejącej logikiPozwala na pełną kontrolę nad odpowiedziąJest zgodne z zasadą Open/ClosedUmożliwia stopniową migracjęUnika problemu z exit6. Przykładowy szkielet endpoint'a APIclass Step3_Api_Controller extends CheckoutV2_Base_Controller
{
    public function action_create_payment($lang, $siteKey, $bookingRef, $hash)
    {
        // 1. Walidacja i pobranie rezerwacji
        $booking = $this->fetchBookingByReference($bookingRef);
        // 2. Sprawdzenie hash'a
        if ($hash != $booking->GetHash()) {
            return $this->errorResponse('Invalid hash');
        }
        // 3. Walidacja danych
        $validation = $this->validatePaymentData(Input::all());
        // 4. Utworzenie płatności
        $Method = BookingPaymentMethod::Get($methodId);
        $Payment = Payment::ForMethod($Method);
        // 5. Procesowanie
        try {
            $result = $Payment->Process($booking);
            return $this->successResponse(['payment_id' => $result]);
        } catch (Exception $e) {
            return $this->errorResponse($e->getMessage());
        }
    }
}7. BezpieczeństwoHash rezerwacji sprawdzany przy każdej operacjiCSRF protection (Laravel)Walidacja wszystkich danych wejściowychSSL/TLS wymagane dla płatności onlinePCI compliance dla płatności kartą8. PodsumowanieSystem płatności w Upper6 jest rozbudowany ale wymaga adaptacji dla API:Różne metody płatności używają różnych typów output (JSON, HTML, redirect)Istniejące klasy używają exit co komplikuje integrację z APIKonieczne jest utworzenie warstwy abstrakcji dla APIRekomendowane jest tworzenie dedykowanych klas API dziedziczących po istniejącychKluczowe jest zrozumienie flow: Step3 → Confirm → Payment::Process() → (JSON/HTML/Redirect)Warto sprawdzić też załączony plik"
147623,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,14400,2025-08-14T18:08:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143713,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,8400,2025-08-14T15:57:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily + micro + kawka""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143716,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,2700,2025-08-14T15:36:34.146+0200,,"CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
143830,SUP-14875,Room upgrade for arrangements,Support,High,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,2400,2025-08-14T15:07:00.000+0200,,"Room upgrade pozwala na zmianę pokoju, który nie obsługuje aranżacji z pierwotnego pokoju.SiteID = 7325Oferta wyceniona wg aranżacji:  Pobyt dla aranżacji 3 osoby + 1 dziecko - pokój możliwy do rezerwacji: Deluxe z wannąhttps://booking.profitroom.com/pl/zuzatest/pricelist/offers/408174/?check-in=2025-08-02&check-out=2025-08-03&currency=PLN&r1_adults=3&r1_child6-10=1&no-cache=1 step4 https://booking.profitroom.com/guest/pl/zuzatest/ENOEOIN?currency=PLN&mode=confirmation_step&newsletter_email_uuid=ea3cc6d6-4731-11ee-807e-ce52a91224dbpropozycje upgrade’u - zrzut niżej: te pokoje nie były proponowane na step1 Prezydencki: nie ma aranżacji 3+1, max pojemność pokoju też jest mniejsza niż 4 osoby
konfig pokoju:  Rezerwacja:"
143712,CHEC-5309,(2h) (M) Setting up logging in ELK [TIMESLOTS] ,Tech Debt,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,3600,2025-08-14T14:57:26.579+0200,,"DO REFINEMENTU:dodać logowanie do ELK w takich obszarach, tak żeby przyspieszyło proces debugowania zgłaszanych problemów myśleć też o tym logowaniu tak, by przysłużyło się w przyszłości supportowi"
143711,CHEC-5978,(L) [B] Step 3: Zakładanie płatności (klikanie rezerwuj),Task,None,Completed,dawid.sikorski@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,4500,2025-08-14T14:42:07.795+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""zdzwonka z Dawidem""}]}]}","Refinement dokumentacja - Proces zakładania płatności w Upper61. Przegląd architekturySystem płatności w Upper6 składa się z następujących komponentów:1.1 KontroleryBooking_Step3_Controller (app/controllers/booking_step3.php) - główny kontroler obsługujący krok 3 rezerwacjiBooking_Payment_Controller (app/controllers/booking_payment.php) - kontroler obsługujący płatności dla istniejących rezerwacji1.2 Biblioteki zewnętrznelib-ideabooking - podstawowe klasy rezerwacji i metod płatnościBookingPaymentMethod - encja reprezentująca metodę płatnościBooking - główna klasa rezerwacjibe-gateways (vendor/profitroom/be-gateways) - integracje z bramkami płatnościPayment - klasa bazowa dla wszystkich płatnościKlasy specyficzne dla różnych metod płatności2. Flow zakładania płatności2.1 Krok 3 - Potwierdzenie rezerwacji z płatnościąUżytkownik wypełnia formularz na stronie step3Formularz jest wysyłany do action_confirm() metodą POSTWalidacja danych (linie 485-555 w booking_step3.php)Sprawdzenie dostępności (linie 478-483)Zapisanie danych rezerwacji (linie 556-745)2.2 Proces płatnościPobranie metody płatności:$Method = BookingPaymentMethod::Get($MethodID, $context->booking->OfferID, $context->booking->ChannelID);Utworzenie obiektu Payment:$Payment = Payment::ForMethod($Method);Ustawienie URL-i powrotu:$Payment->BackUrlOK = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=ok';
$Payment->BackUrlFail = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=failed';Procesowanie płatności:$Payment->Process($context->booking);2.3 Metoda Process() w klasie PaymentStandardowy flow:public function Process($Booking, $IsAvailCheck = true)
{
    BookingEvents::Fire('PaymentOpening', $Booking);
    $this->Validate($Booking);
    $Transaction = $this->CreateTransaction($Booking);
    $this->BeginPayment($Booking, $Transaction);
    $PaymentID = $this->CreatePayment($Booking, $Transaction);
    return $this->ConfirmBooking($Booking, $PaymentID, $IsAvailCheck);
}3. Typy odpowiedzi z klas Payment3.1 Klasy zwracające JSON z exitP24ApplePayPayment - zwraca JSON i kończy wykonanie:header('Content-Type: application/json');
echo json_encode($response);
exit;3.2 Klasy generujące HTML z formularzem POSTBePaymentProvidersPayment, ECardPayment, StripePayment - generują HTML z automatycznie wysyłanym formularzem3.3 Klasy bez bezpośredniego outputCreditCardPayment - nie generuje output, tylko zapisuje dane karty4. Wyzwania dla APIBrak jednolitego interfejsu - każda klasa może zwracać dane w inny sposóbUżycie exit - przerywa flow i uniemożliwia zwrócenie odpowiedzi JSONAutomatyczne przekierowania - formularze POST automatycznie przekierowują użytkownikaBrak możliwości przechwycenia exit - w PHP nie można przechwycić instrukcji exit/die5. Rekomendowane rozwiązanie dla APIOpcja 2: Nowe klasy Payment dla API (REKOMENDOWANA)Utworzenie dedykowanych klas dziedziczących po Payment, ale zwracających dane w formacie API:class ApiP24ApplePayPayment extends P24ApplePayPayment
{
    public function Process($Booking, $IsAvailCheck = true)
    {
        $this->Validate($Booking);
        $transaction = $this->CreateTransaction($Booking);
        return [
            'type' => 'apple_pay',
            'data' => [
                'paymentAmount' => $transaction['PaymentAmount'],
                'currency' => $this->infrastructureProvider->getDefaultCurrency(),
                'transactionId' => $transaction['TransactionID'],
                'email' => $transaction['Email'],
                'returnUrl' => $this->BackUrlOK
            ]
        ];
    }
}To podejście:Nie narusza istniejącej logikiPozwala na pełną kontrolę nad odpowiedziąJest zgodne z zasadą Open/ClosedUmożliwia stopniową migracjęUnika problemu z exit6. Przykładowy szkielet endpoint'a APIclass Step3_Api_Controller extends CheckoutV2_Base_Controller
{
    public function action_create_payment($lang, $siteKey, $bookingRef, $hash)
    {
        // 1. Walidacja i pobranie rezerwacji
        $booking = $this->fetchBookingByReference($bookingRef);
        // 2. Sprawdzenie hash'a
        if ($hash != $booking->GetHash()) {
            return $this->errorResponse('Invalid hash');
        }
        // 3. Walidacja danych
        $validation = $this->validatePaymentData(Input::all());
        // 4. Utworzenie płatności
        $Method = BookingPaymentMethod::Get($methodId);
        $Payment = Payment::ForMethod($Method);
        // 5. Procesowanie
        try {
            $result = $Payment->Process($booking);
            return $this->successResponse(['payment_id' => $result]);
        } catch (Exception $e) {
            return $this->errorResponse($e->getMessage());
        }
    }
}7. BezpieczeństwoHash rezerwacji sprawdzany przy każdej operacjiCSRF protection (Laravel)Walidacja wszystkich danych wejściowychSSL/TLS wymagane dla płatności onlinePCI compliance dla płatności kartą8. PodsumowanieSystem płatności w Upper6 jest rozbudowany ale wymaga adaptacji dla API:Różne metody płatności używają różnych typów output (JSON, HTML, redirect)Istniejące klasy używają exit co komplikuje integrację z APIKonieczne jest utworzenie warstwy abstrakcji dla APIRekomendowane jest tworzenie dedykowanych klas API dziedziczących po istniejącychKluczowe jest zrozumienie flow: Step3 → Confirm → Payment::Process() → (JSON/HTML/Redirect)Warto sprawdzić też załączony plik"
147946,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,1800,2025-08-14T14:17:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143710,SUP-14796,(4H) Room upgrade for bookings with payment schedule,Support,Medium,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-14T13:56:47.694+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""konsultacje z Krzychem - problem z konfiguracją""}]}]}","Room Upgrade wg manuala nie jest dostępny dla rezerwacji z harmonogramem płatności, ALE wyjątkiem jest sytuacja, w której pierwsza rata wynosi 0% → HOW TO REPRODUCENp.: https://booking.profitroom.com/guest/pl/zuzatest/WDRDPML?currency=PLN&mode=confirmation_step&rooms[]=Double_&offers[]=408174&offerNames[]=Oferta+-+aranżacje&newsletter_email_uuid=65ab142c-58aa-11f0-b812-ce52a91224db Raty do zapłacania się aktualizują w kalkulacji rezerwacji  Wysyłane jest powiadomienie o modyfikacji rezerwacji (guest_booking_modified) oraz od razu wysyłane jest przypomnienie o płatności pierwszej raty (normalnie powinno iść trzy dni przed terminem płatności) - guest_booking_payment-reminder.https://support-tools.profitroom.net/audit/emails/search-booking-confirmation?siteId=7325&bookingReference=WDRDPML&database=bookingW przypomnieniu o płatności link na step3 nie działa: https://mailer.profitroom.net/pl/preview/booking/guest/WDRDPML/9c651adfa0aad1e9f5bfc19cc3176332?type=payment-reminder&archive=127456011https://checkout.profitroom.com/pl/booking/payment/material/zuzatest/WDRDPML/2931f5a44da950225d99d1d897159f01"
147144,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,9000,2025-08-14T13:38:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143681,SUP-14875,Room upgrade for arrangements,Support,High,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,2400,2025-08-14T12:51:22.104+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""call with tester""}]}]}","Room upgrade pozwala na zmianę pokoju, który nie obsługuje aranżacji z pierwotnego pokoju.SiteID = 7325Oferta wyceniona wg aranżacji:  Pobyt dla aranżacji 3 osoby + 1 dziecko - pokój możliwy do rezerwacji: Deluxe z wannąhttps://booking.profitroom.com/pl/zuzatest/pricelist/offers/408174/?check-in=2025-08-02&check-out=2025-08-03&currency=PLN&r1_adults=3&r1_child6-10=1&no-cache=1 step4 https://booking.profitroom.com/guest/pl/zuzatest/ENOEOIN?currency=PLN&mode=confirmation_step&newsletter_email_uuid=ea3cc6d6-4731-11ee-807e-ce52a91224dbpropozycje upgrade’u - zrzut niżej: te pokoje nie były proponowane na step1 Prezydencki: nie ma aranżacji 3+1, max pojemność pokoju też jest mniejsza niż 4 osoby
konfig pokoju:  Rezerwacja:"
143680,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,8100,2025-08-14T11:14:40.125+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily, micro, kawka""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147945,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,14400,2025-08-14T10:47:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143679,CHEC-6077,Bugs in step2 - calculation and breakdown,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,10800,2025-08-14T10:29:12.866+0200,,"Błąd w ofertach łączonych dla naliczania OS/NOCDla widoku w upper: https://checkout.profitroom.dev/pl/booking/step2/material/checkoudzikSeba?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=EUR&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449gdzie kwota za dodatek pokazuje się “320” EUR i to jest ok bo 20 eur x 8 nocy x 2 osoby = 320 EUR
natomiast w api wyliczamy niby tymi samymi metodami i mamy kwotę “400” EUR.Reszta sposobów naliczania działa prawidłowo z tego co sprawdzałemhttps://checkout.profitroom.dev/api/pl/step2/checkoudzikSeba/booking?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=GBP&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449&phid=comrvq9lpaObserwacja: możliwe, że kwota extras na widoku jest wyliczana jakimś innym skryptem i dlatego jest prawidłowa - przecież dodatki są przekazywane w górę ramki. W IBL za to możliwe, że jest błąd.Błąd w breakdown - ogólnyExtrasy w api w polu pricingBreakdown nie są dobrze przypisane:https://checkout.profitroom.dev/api/pl/step2/checkoudzikSeba/booking?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=GBP&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449&phid=comrvq9lpadodatek os/noc wpada na 4 dzień oferty łączonej (1 dzień oferty z dostępnością) i ogólnie te dodatki nie są dobrze przypisywane w breakdown - byc moze dla oferty laczonej albo roznych dodatkow.Dodatki powinny byc dodawane w zaleznosci od sposobu naliczania.
Ogólnie mamy 2 mechanizmy:jeden to liczenie wszystkich total i tutaj trzeba dostarczyc selectedExtras aby skorzystac z liczenia z IBL $context->booking->Recalculate();
https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/libraries/Upper/Services/CheckoutV2/CartService.php#L14
drugi to na podstawie cart-a poskładanie RoomPricingBreakdown - wtedy powinno się wszystko zgadzac
https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/libraries/Upper/Services/CheckoutV2/PricingService.php#L129"
146544,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-14T08:30:00.000+0200,,Team Leaders work-log.
146543,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,5400,2025-08-14T08:29:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146542,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,2700,2025-08-14T08:28:00.000+0200,,
146532,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,10800,2025-08-14T08:25:00.000+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
145848,WORKLOG-18,Absence,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,28800,2025-08-14T08:00:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
147647,CHEC-5978,(L) [B] Step 3: Zakładanie płatności (klikanie rezerwuj),Task,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,7200,2025-08-14T04:50:00.000+0200,,"Refinement dokumentacja - Proces zakładania płatności w Upper61. Przegląd architekturySystem płatności w Upper6 składa się z następujących komponentów:1.1 KontroleryBooking_Step3_Controller (app/controllers/booking_step3.php) - główny kontroler obsługujący krok 3 rezerwacjiBooking_Payment_Controller (app/controllers/booking_payment.php) - kontroler obsługujący płatności dla istniejących rezerwacji1.2 Biblioteki zewnętrznelib-ideabooking - podstawowe klasy rezerwacji i metod płatnościBookingPaymentMethod - encja reprezentująca metodę płatnościBooking - główna klasa rezerwacjibe-gateways (vendor/profitroom/be-gateways) - integracje z bramkami płatnościPayment - klasa bazowa dla wszystkich płatnościKlasy specyficzne dla różnych metod płatności2. Flow zakładania płatności2.1 Krok 3 - Potwierdzenie rezerwacji z płatnościąUżytkownik wypełnia formularz na stronie step3Formularz jest wysyłany do action_confirm() metodą POSTWalidacja danych (linie 485-555 w booking_step3.php)Sprawdzenie dostępności (linie 478-483)Zapisanie danych rezerwacji (linie 556-745)2.2 Proces płatnościPobranie metody płatności:$Method = BookingPaymentMethod::Get($MethodID, $context->booking->OfferID, $context->booking->ChannelID);Utworzenie obiektu Payment:$Payment = Payment::ForMethod($Method);Ustawienie URL-i powrotu:$Payment->BackUrlOK = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=ok';
$Payment->BackUrlFail = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=failed';Procesowanie płatności:$Payment->Process($context->booking);2.3 Metoda Process() w klasie PaymentStandardowy flow:public function Process($Booking, $IsAvailCheck = true)
{
    BookingEvents::Fire('PaymentOpening', $Booking);
    $this->Validate($Booking);
    $Transaction = $this->CreateTransaction($Booking);
    $this->BeginPayment($Booking, $Transaction);
    $PaymentID = $this->CreatePayment($Booking, $Transaction);
    return $this->ConfirmBooking($Booking, $PaymentID, $IsAvailCheck);
}3. Typy odpowiedzi z klas Payment3.1 Klasy zwracające JSON z exitP24ApplePayPayment - zwraca JSON i kończy wykonanie:header('Content-Type: application/json');
echo json_encode($response);
exit;3.2 Klasy generujące HTML z formularzem POSTBePaymentProvidersPayment, ECardPayment, StripePayment - generują HTML z automatycznie wysyłanym formularzem3.3 Klasy bez bezpośredniego outputCreditCardPayment - nie generuje output, tylko zapisuje dane karty4. Wyzwania dla APIBrak jednolitego interfejsu - każda klasa może zwracać dane w inny sposóbUżycie exit - przerywa flow i uniemożliwia zwrócenie odpowiedzi JSONAutomatyczne przekierowania - formularze POST automatycznie przekierowują użytkownikaBrak możliwości przechwycenia exit - w PHP nie można przechwycić instrukcji exit/die5. Rekomendowane rozwiązanie dla APIOpcja 2: Nowe klasy Payment dla API (REKOMENDOWANA)Utworzenie dedykowanych klas dziedziczących po Payment, ale zwracających dane w formacie API:class ApiP24ApplePayPayment extends P24ApplePayPayment
{
    public function Process($Booking, $IsAvailCheck = true)
    {
        $this->Validate($Booking);
        $transaction = $this->CreateTransaction($Booking);
        return [
            'type' => 'apple_pay',
            'data' => [
                'paymentAmount' => $transaction['PaymentAmount'],
                'currency' => $this->infrastructureProvider->getDefaultCurrency(),
                'transactionId' => $transaction['TransactionID'],
                'email' => $transaction['Email'],
                'returnUrl' => $this->BackUrlOK
            ]
        ];
    }
}To podejście:Nie narusza istniejącej logikiPozwala na pełną kontrolę nad odpowiedziąJest zgodne z zasadą Open/ClosedUmożliwia stopniową migracjęUnika problemu z exit6. Przykładowy szkielet endpoint'a APIclass Step3_Api_Controller extends CheckoutV2_Base_Controller
{
    public function action_create_payment($lang, $siteKey, $bookingRef, $hash)
    {
        // 1. Walidacja i pobranie rezerwacji
        $booking = $this->fetchBookingByReference($bookingRef);
        // 2. Sprawdzenie hash'a
        if ($hash != $booking->GetHash()) {
            return $this->errorResponse('Invalid hash');
        }
        // 3. Walidacja danych
        $validation = $this->validatePaymentData(Input::all());
        // 4. Utworzenie płatności
        $Method = BookingPaymentMethod::Get($methodId);
        $Payment = Payment::ForMethod($Method);
        // 5. Procesowanie
        try {
            $result = $Payment->Process($booking);
            return $this->successResponse(['payment_id' => $result]);
        } catch (Exception $e) {
            return $this->errorResponse($e->getMessage());
        }
    }
}7. BezpieczeństwoHash rezerwacji sprawdzany przy każdej operacjiCSRF protection (Laravel)Walidacja wszystkich danych wejściowychSSL/TLS wymagane dla płatności onlinePCI compliance dla płatności kartą8. PodsumowanieSystem płatności w Upper6 jest rozbudowany ale wymaga adaptacji dla API:Różne metody płatności używają różnych typów output (JSON, HTML, redirect)Istniejące klasy używają exit co komplikuje integrację z APIKonieczne jest utworzenie warstwy abstrakcji dla APIRekomendowane jest tworzenie dedykowanych klas API dziedziczących po istniejącychKluczowe jest zrozumienie flow: Step3 → Confirm → Payment::Process() → (JSON/HTML/Redirect)Warto sprawdzić też załączony plik"
147621,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,3600,2025-08-13T21:08:00.000+0200,,"Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
147622,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,5400,2025-08-13T20:38:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147943,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,3600,2025-08-13T13:46:00.000+0200,,"Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
147143,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,14400,2025-08-13T13:38:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143607,WORKLOG-8,"I don't know what to log in for, but I really want to.",Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,1800,2025-08-13T13:36:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""rozszerzenie analityki w ess""}]}]}",
143606,WORKLOG-23,Consultations with non-software teams,Worklog,None,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,3600,2025-08-13T13:35:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""zapytania od Karoliny""}]}]}","All discussions, meetings, consultations, and tasks that arise from teams collaborating with software, such as DevOps, IT, Customer Success, etc.In other words, these are consultations that take us away from planned tasks and are not related to the analysis and refinement of sprint tasks - in contrast to cross-team consultations."
143605,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,5400,2025-08-13T13:35:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily + demo flux""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143629,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-13T13:32:48.549+0200,,"CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
147944,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,5400,2025-08-13T13:16:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143604,SUP-14875,Room upgrade for arrangements,Support,High,Completed,arkadiusz.prosciak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,3600,2025-08-13T12:34:55.539+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""konsultacje z Arkiem""}]}]}","Room upgrade pozwala na zmianę pokoju, który nie obsługuje aranżacji z pierwotnego pokoju.SiteID = 7325Oferta wyceniona wg aranżacji:  Pobyt dla aranżacji 3 osoby + 1 dziecko - pokój możliwy do rezerwacji: Deluxe z wannąhttps://booking.profitroom.com/pl/zuzatest/pricelist/offers/408174/?check-in=2025-08-02&check-out=2025-08-03&currency=PLN&r1_adults=3&r1_child6-10=1&no-cache=1 step4 https://booking.profitroom.com/guest/pl/zuzatest/ENOEOIN?currency=PLN&mode=confirmation_step&newsletter_email_uuid=ea3cc6d6-4731-11ee-807e-ce52a91224dbpropozycje upgrade’u - zrzut niżej: te pokoje nie były proponowane na step1 Prezydencki: nie ma aranżacji 3+1, max pojemność pokoju też jest mniejsza niż 4 osoby
konfig pokoju:  Rezerwacja:"
147942,CHEC-6068,Unify Google Pay flow to match the one from Apple Pay (P24),Task,Highest,Completed,sebastian.kopec@profitroom.com,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,9000,2025-08-13T12:15:00.000+0200,,"SummaryWe need to unify the Google Pay flow to match the Apple Pay flow. This involves changes to the presentation of steps and labels.ContextCurrently, the Google Pay flow presents Step 3A before the native modal from Google Pay is displayed. This needs to be adjusted for consistency with Apple Pay.Acceptance criteriaEliminate presenting Step 3A initially before the display of the native modal from Google Pay.Make the same label change for the Apple Pay row.Remove the outer frame from Step 3 to enhance the visibility of the Google/Apple Pay logos.Use only the frames of the logos to make them clearer and larger.Ensure that the Google Pay logo includes the ellipse."
143611,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,7200,2025-08-13T12:11:18.827+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
143687,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,5400,2025-08-13T11:41:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""daily, demo flux""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143690,CHEC-6077,Bugs in step2 - calculation and breakdown,Task,None,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,18000,2025-08-13T09:03:00.000+0200,,"Błąd w ofertach łączonych dla naliczania OS/NOCDla widoku w upper: https://checkout.profitroom.dev/pl/booking/step2/material/checkoudzikSeba?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=EUR&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449gdzie kwota za dodatek pokazuje się “320” EUR i to jest ok bo 20 eur x 8 nocy x 2 osoby = 320 EUR
natomiast w api wyliczamy niby tymi samymi metodami i mamy kwotę “400” EUR.Reszta sposobów naliczania działa prawidłowo z tego co sprawdzałemhttps://checkout.profitroom.dev/api/pl/step2/checkoudzikSeba/booking?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=GBP&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449&phid=comrvq9lpaObserwacja: możliwe, że kwota extras na widoku jest wyliczana jakimś innym skryptem i dlatego jest prawidłowa - przecież dodatki są przekazywane w górę ramki. W IBL za to możliwe, że jest błąd.Błąd w breakdown - ogólnyExtrasy w api w polu pricingBreakdown nie są dobrze przypisane:https://checkout.profitroom.dev/api/pl/step2/checkoudzikSeba/booking?checkin=2025-12-10&checkout=2025-12-18&mode=offers&Currency=GBP&OfferID=467056&rooms=262030&occupancy=2670313%401&people=2&firstStepOccupancy[r1_adults]=2&oa_p_id=123456&oa_u_id=abcdef&Source=v7&cart_id=d7409d0e-ca23-4c9d-bee4-eadc516be449&phid=comrvq9lpadodatek os/noc wpada na 4 dzień oferty łączonej (1 dzień oferty z dostępnością) i ogólnie te dodatki nie są dobrze przypisywane w breakdown - byc moze dla oferty laczonej albo roznych dodatkow.Dodatki powinny byc dodawane w zaleznosci od sposobu naliczania.
Ogólnie mamy 2 mechanizmy:jeden to liczenie wszystkich total i tutaj trzeba dostarczyc selectedExtras aby skorzystac z liczenia z IBL $context->booking->Recalculate();
https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/libraries/Upper/Services/CheckoutV2/CartService.php#L14
drugi to na podstawie cart-a poskładanie RoomPricingBreakdown - wtedy powinno się wszystko zgadzac
https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/libraries/Upper/Services/CheckoutV2/PricingService.php#L129"
146541,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,1800,2025-08-13T08:28:00.000+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
146540,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,1800,2025-08-13T08:28:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146538,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,3600,2025-08-13T08:27:00.000+0200,,"Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
146539,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,7200,2025-08-13T08:27:00.000+0200,,Team Leaders work-log.
145847,WORKLOG-18,Absence,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,28800,2025-08-13T08:00:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
147646,CHEC-5978,(L) [B] Step 3: Zakładanie płatności (klikanie rezerwuj),Task,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,14400,2025-08-13T02:48:00.000+0200,,"Refinement dokumentacja - Proces zakładania płatności w Upper61. Przegląd architekturySystem płatności w Upper6 składa się z następujących komponentów:1.1 KontroleryBooking_Step3_Controller (app/controllers/booking_step3.php) - główny kontroler obsługujący krok 3 rezerwacjiBooking_Payment_Controller (app/controllers/booking_payment.php) - kontroler obsługujący płatności dla istniejących rezerwacji1.2 Biblioteki zewnętrznelib-ideabooking - podstawowe klasy rezerwacji i metod płatnościBookingPaymentMethod - encja reprezentująca metodę płatnościBooking - główna klasa rezerwacjibe-gateways (vendor/profitroom/be-gateways) - integracje z bramkami płatnościPayment - klasa bazowa dla wszystkich płatnościKlasy specyficzne dla różnych metod płatności2. Flow zakładania płatności2.1 Krok 3 - Potwierdzenie rezerwacji z płatnościąUżytkownik wypełnia formularz na stronie step3Formularz jest wysyłany do action_confirm() metodą POSTWalidacja danych (linie 485-555 w booking_step3.php)Sprawdzenie dostępności (linie 478-483)Zapisanie danych rezerwacji (linie 556-745)2.2 Proces płatnościPobranie metody płatności:$Method = BookingPaymentMethod::Get($MethodID, $context->booking->OfferID, $context->booking->ChannelID);Utworzenie obiektu Payment:$Payment = Payment::ForMethod($Method);Ustawienie URL-i powrotu:$Payment->BackUrlOK = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=ok';
$Payment->BackUrlFail = URL::to_action('booking@step3', array($layout, $site, $ref, $hash)).'?state=failed';Procesowanie płatności:$Payment->Process($context->booking);2.3 Metoda Process() w klasie PaymentStandardowy flow:public function Process($Booking, $IsAvailCheck = true)
{
    BookingEvents::Fire('PaymentOpening', $Booking);
    $this->Validate($Booking);
    $Transaction = $this->CreateTransaction($Booking);
    $this->BeginPayment($Booking, $Transaction);
    $PaymentID = $this->CreatePayment($Booking, $Transaction);
    return $this->ConfirmBooking($Booking, $PaymentID, $IsAvailCheck);
}3. Typy odpowiedzi z klas Payment3.1 Klasy zwracające JSON z exitP24ApplePayPayment - zwraca JSON i kończy wykonanie:header('Content-Type: application/json');
echo json_encode($response);
exit;3.2 Klasy generujące HTML z formularzem POSTBePaymentProvidersPayment, ECardPayment, StripePayment - generują HTML z automatycznie wysyłanym formularzem3.3 Klasy bez bezpośredniego outputCreditCardPayment - nie generuje output, tylko zapisuje dane karty4. Wyzwania dla APIBrak jednolitego interfejsu - każda klasa może zwracać dane w inny sposóbUżycie exit - przerywa flow i uniemożliwia zwrócenie odpowiedzi JSONAutomatyczne przekierowania - formularze POST automatycznie przekierowują użytkownikaBrak możliwości przechwycenia exit - w PHP nie można przechwycić instrukcji exit/die5. Rekomendowane rozwiązanie dla APIOpcja 2: Nowe klasy Payment dla API (REKOMENDOWANA)Utworzenie dedykowanych klas dziedziczących po Payment, ale zwracających dane w formacie API:class ApiP24ApplePayPayment extends P24ApplePayPayment
{
    public function Process($Booking, $IsAvailCheck = true)
    {
        $this->Validate($Booking);
        $transaction = $this->CreateTransaction($Booking);
        return [
            'type' => 'apple_pay',
            'data' => [
                'paymentAmount' => $transaction['PaymentAmount'],
                'currency' => $this->infrastructureProvider->getDefaultCurrency(),
                'transactionId' => $transaction['TransactionID'],
                'email' => $transaction['Email'],
                'returnUrl' => $this->BackUrlOK
            ]
        ];
    }
}To podejście:Nie narusza istniejącej logikiPozwala na pełną kontrolę nad odpowiedziąJest zgodne z zasadą Open/ClosedUmożliwia stopniową migracjęUnika problemu z exit6. Przykładowy szkielet endpoint'a APIclass Step3_Api_Controller extends CheckoutV2_Base_Controller
{
    public function action_create_payment($lang, $siteKey, $bookingRef, $hash)
    {
        // 1. Walidacja i pobranie rezerwacji
        $booking = $this->fetchBookingByReference($bookingRef);
        // 2. Sprawdzenie hash'a
        if ($hash != $booking->GetHash()) {
            return $this->errorResponse('Invalid hash');
        }
        // 3. Walidacja danych
        $validation = $this->validatePaymentData(Input::all());
        // 4. Utworzenie płatności
        $Method = BookingPaymentMethod::Get($methodId);
        $Payment = Payment::ForMethod($Method);
        // 5. Procesowanie
        try {
            $result = $Payment->Process($booking);
            return $this->successResponse(['payment_id' => $result]);
        } catch (Exception $e) {
            return $this->errorResponse($e->getMessage());
        }
    }
}7. BezpieczeństwoHash rezerwacji sprawdzany przy każdej operacjiCSRF protection (Laravel)Walidacja wszystkich danych wejściowychSSL/TLS wymagane dla płatności onlinePCI compliance dla płatności kartą8. PodsumowanieSystem płatności w Upper6 jest rozbudowany ale wymaga adaptacji dla API:Różne metody płatności używają różnych typów output (JSON, HTML, redirect)Istniejące klasy używają exit co komplikuje integrację z APIKonieczne jest utworzenie warstwy abstrakcji dla APIRekomendowane jest tworzenie dedykowanych klas API dziedziczących po istniejącychKluczowe jest zrozumienie flow: Step3 → Confirm → Payment::Process() → (JSON/HTML/Redirect)Warto sprawdzić też załączony plik"
147620,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,3600,2025-08-12T21:07:00.000+0200,,"Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
147619,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,9000,2025-08-12T19:37:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143532,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,3600,2025-08-12T15:23:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""en""}]}]}","Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
143533,WORKLOG-14,SUP2 Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,1200,2025-08-12T15:23:00.000+0200,,Spotkanie z 2nd Line of Support
143531,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-12T15:23:00.000+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""planning + retro""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
147938,WORKLOG-14,SUP2 Meetings,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,1800,2025-08-12T14:14:00.000+0200,,Spotkanie z 2nd Line of Support
143530,CHEC-5958,(4H) (L) [B] Step 2: Założenie rezerwacji (step2save),Task,None,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,4500,2025-08-12T14:07:48.699+0200,,"Implementacja endpointa API do zapisywania rezerwacji w nowym flow CheckoutV2 na podstawie step2save w https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/e39f917dd5f5d4761ef3132d789b803641862b22/app/controllers/booking_step2.php wzorując się na implementacji api w https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/controllers/checkout_v2/step2_api.php  Endpoint będzie przyjmował dane gościa, kod promocyjny oraz parametry trackingowe, a następnie tworzył rezerwację w systemie. Dane o pokojach i dodatkach będą
  pobierane z koszyka (cart) na podstawie przekazanego cartId.  Po pomyślnym zapisie rezerwacji, API zwróci numer referencyjny, hash oraz URL do API kroku 3 (potwierdzenie i płatność).  To kluczowy element nowego procesu rezerwacji, który zastąpi obecny formularzowy mechanizm zapisywania bookingu."
147941,CHEC-5365,(4h) [F] Obsługa modala Google Pay i komunikacja z mikroserwisem. Obsługa przekierowania na guest-panel,Task,None,Completed,sebastian.kopec@profitroom.com,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,3600,2025-08-12T13:45:00.000+0200,,
147939,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,3600,2025-08-12T13:44:00.000+0200,,
147936,CHEC-6068,Unify Google Pay flow to match the one from Apple Pay (P24),Task,Highest,Completed,sebastian.kopec@profitroom.com,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,3600,2025-08-12T13:43:00.000+0200,,"SummaryWe need to unify the Google Pay flow to match the Apple Pay flow. This involves changes to the presentation of steps and labels.ContextCurrently, the Google Pay flow presents Step 3A before the native modal from Google Pay is displayed. This needs to be adjusted for consistency with Apple Pay.Acceptance criteriaEliminate presenting Step 3A initially before the display of the native modal from Google Pay.Make the same label change for the Apple Pay row.Remove the outer frame from Step 3 to enhance the visibility of the Google/Apple Pay logos.Use only the frames of the logos to make them clearer and larger.Ensure that the Google Pay logo includes the ellipse."
147935,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,3600,2025-08-12T13:43:00.000+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
147141,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,krzysztof.krynicki@profitroom.com,712020:130b64f1-336a-4dad-8e4a-e9eaf479490b,7200,2025-08-12T13:34:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143529,CHEC-6093,[F] Terms for P24 methods,Task,Highest,Completed,maciej.walczak@profitroom.com,,,maciej.walczak@profitroom.com,557058:4b6059ff-b9c3-4783-b54a-2517520bac1d,7200,2025-08-12T13:22:31.117+0200,,"CelZapewnić poprawne zbieranie zgód użytkownika na przetwarzanie danych przy płatnościach przez P24 Pasaż (Apple Pay, Google Pay, BLIK) oraz przy płatnościach cyklicznych i ponawianych.ZakresNa etapie płatności, jeśli profil hotelu ma aktywną choć jedną metodę P24 Pasaż, zawsze wyświetl zgodę do zaznaczenia (checkbox) – analogicznie jak dla BLIK.Zgody te maja być wyswietlane również w przypadku Apple/Google PayZgoda ta jest zapamiętywana i nie trzeba jej ponawiać przy kolejnych próbach tej samej płatności.Dla harmonogramów/rat – każdorazowo wymagaj odrębnej zgody (osobny checkbox przy każdej płatności ratalnej).Ogranicz do minimum liczbę modali i zbędnych kroków – ma być prosto i przyjaźnie dla użytkownika.WAŻNE: Tresc zgód zgodnie z dokumentem  AkceptacjaZgody są wymagane i blokują przejście dalej, jeśli nie są zaznaczone.Scenariusz działa dla każdej metody płatności P24 Pasaż.Efektywne zebranie zgód zgodnie z wymogami Apple/Google Pay oraz prawa."
143510,CHEC-5958,(4H) (L) [B] Step 2: Założenie rezerwacji (step2save),Task,None,Completed,maciej.walczak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,1800,2025-08-12T13:16:15.552+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""CR""}]}]}","Implementacja endpointa API do zapisywania rezerwacji w nowym flow CheckoutV2 na podstawie step2save w https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/e39f917dd5f5d4761ef3132d789b803641862b22/app/controllers/booking_step2.php wzorując się na implementacji api w https://gitlab-ee.profitroom.net/booking-engine/upper6/upper6/blob/a55487a3edc5092650c0aafe4802a5837a1d61bb/app/controllers/checkout_v2/step2_api.php  Endpoint będzie przyjmował dane gościa, kod promocyjny oraz parametry trackingowe, a następnie tworzył rezerwację w systemie. Dane o pokojach i dodatkach będą
  pobierane z koszyka (cart) na podstawie przekazanego cartId.  Po pomyślnym zapisie rezerwacji, API zwróci numer referencyjny, hash oraz URL do API kroku 3 (potwierdzenie i płatność).  To kluczowy element nowego procesu rezerwacji, który zastąpi obecny formularzowy mechanizm zapisywania bookingu."
147940,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,sebastian.kopec@profitroom.com,63da2f8a614cb4ba53fea3aa,5400,2025-08-12T13:14:00.000+0200,,"All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
143513,WORKLOG-1,Refinement,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-12T12:47:23.545+0200,,
143511,WORKLOG-5,Education/Personal Development,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,3600,2025-08-12T12:46:58.711+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""en""}]}]}","Time spent on education and personal development be it courses, tutorials, books, events, researches and all knowledge gaining and sharing.NOTE: dedicated r&d tasks should be logged separately in a specific tasks."
143514,SUP-14875,Room upgrade for arrangements,Support,High,Completed,arkadiusz.prosciak@profitroom.com,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,7200,2025-08-12T11:49:08.206+0200,,"Room upgrade pozwala na zmianę pokoju, który nie obsługuje aranżacji z pierwotnego pokoju.SiteID = 7325Oferta wyceniona wg aranżacji:  Pobyt dla aranżacji 3 osoby + 1 dziecko - pokój możliwy do rezerwacji: Deluxe z wannąhttps://booking.profitroom.com/pl/zuzatest/pricelist/offers/408174/?check-in=2025-08-02&check-out=2025-08-03&currency=PLN&r1_adults=3&r1_child6-10=1&no-cache=1 step4 https://booking.profitroom.com/guest/pl/zuzatest/ENOEOIN?currency=PLN&mode=confirmation_step&newsletter_email_uuid=ea3cc6d6-4731-11ee-807e-ce52a91224dbpropozycje upgrade’u - zrzut niżej: te pokoje nie były proponowane na step1 Prezydencki: nie ma aranżacji 3+1, max pojemność pokoju też jest mniejsza niż 4 osoby
konfig pokoju:  Rezerwacja:"
143512,WORKLOG-32,Meetings,Worklog,Medium,Open,,,,arkadiusz.prosciak@profitroom.com,62c2b98e580f2f55d76f6076,7200,2025-08-12T11:47:11.474+0200,"{""type"":""doc"",""version"":1,""content"":[{""type"":""paragraph"",""content"":[{""type"":""text"",""text"":""planning, retro""}]}]}","All organizational meetings resulting from corporate procedures and agile methodology work. This includes both recurring and one-time meetings, whether they are company-wide or team-specific, and those organized within a dedicated group. This encompasses various meetings such as Increment demo, Micro-Front-Test checkpoints, Daily stand-ups, Retrospectives, and one-on-one sessions. Note: this does not apply to technical meetings related to the analysis and refinement of specific tasks, as time spent on those should be logged under the respective tasks."
146537,WORKLOG-14,SUP2 Meetings,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,1800,2025-08-12T08:27:00.000+0200,,Spotkanie z 2nd Line of Support
146535,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,1800,2025-08-12T08:26:00.000+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
146536,WORKLOG-7,TL time,Worklog,Medium,Open,,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,7200,2025-08-12T08:26:00.000+0200,,Team Leaders work-log.
146533,CHEC-6097,Przekazywanie imienia i nazwiska do żądania p24 + akceptacja zgód.,Task,None,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,10800,2025-08-12T08:25:00.000+0200,,SummaryPassing the first name and last name to the p24 request along with the acceptance of consents.ContextThis issue involves the integration of user name details into the p24 request process. It also includes the management of consent acceptance.Acceptance criteriaFirst name and last name must be included in the p24 request.User must accept the necessary consents.Other informationN/A
145846,WORKLOG-18,Absence,Worklog,Medium,Open,,,,pawel.kwiecien@profitroom.com,61409e51c2fda2006a6b5d8a,28800,2025-08-12T08:00:00.000+0200,,"All planned and unplanned work absences (vacations, sick leaves, etc.)."
143478,TRA-161,[CHE] Cookies settings in Slovak,Translation bug,Medium,Completed,grzegorz.bandur@profitroom.com,,,grzegorz.bandur@profitroom.com,5bc465fccbae7142dcd14429,1800,2025-08-12T07:36:09.891+0200,,W dolnej części w BE i CHE w wersji słowackiej ustawienia cookies są podpisane jako “Nastavenia sušienok”:Powinno to byś podpisane jako “Nastavenia cookies”. Występuje to zarówno na pierwszym stepie jak i na drugim i trzecim:Ten task dotyczy tylko błędu po stronie CHE czyli na drugim i trzecim stepie. W kwestii BE powstał osobny task -
147645,CHEC-6094,[F/B] Additional fields in Step 2 API (booking endpoint),Task,None,Completed,dawid.sikorski@profitroom.com,,,dawid.sikorski@profitroom.com,634cf1be1cc605b1fd138db8,10800,2025-08-12T03:47:00.000+0200,,W ramach zadania należy dodać brakujące pola do endpointu booking:informację o warunkach anulacji dla ofertyzdjęcia pokojówNależy również zmienić sposób w jaki zwracany jest opis occuapancy.description dla pokoju - to pole jest do usuniecia
